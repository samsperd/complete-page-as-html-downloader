<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width"><meta content="#f9c412" name="theme-color"><meta content="max-snippet:-1, max-image-preview: large, max-video-preview: -1" name="robots"><meta content="summary_large_image" name="twitter:card"><meta content="no-referrer-when-downgrade" name="referrer"><title>Singleton Pattern</title><meta name="description" content="Share a single global instance throughout our application"><meta property="og:title" content="Singleton Pattern"><meta property="og:description" content="Share a single global instance throughout our application"><meta property="og:image" content="https://res.cloudinary.com/ddxwdqwkr/image/upload/f_auto/v1614961724/patterns.dev/singleton-pattern.jpg"><meta name="next-head-count" content="15"><noscript data-n-css=""></noscript><style>undefined</style><style type="text/css" id="tts-styles">[data-tts-block-id].tts-active {background: rgba(206, 225, 255, 0.9) !important;} [data-tts-sentence-id].tts-active {background: rgba(0, 89, 191, 0.7) !important;}</style><style>*, ::after, ::before { box-sizing: border-box; border: 0px solid rgb(234, 234, 234); }::after, ::before { --tw-content: ""; }html { line-height: 1.5; text-size-adjust: 100%; tab-size: 4; font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"; font-feature-settings: normal; }body { margin: 0px; line-height: inherit; }hr { height: 0px; color: inherit; border-top-width: 1px; }h1, h2, h3, h4 { font-size: inherit; font-weight: inherit; }a { text-decoration: inherit; }strong { font-weight: bolder; }code, pre { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; font-size: 1em; }button { font-family: inherit; font-size: 100%; font-weight: inherit; line-height: inherit; color: inherit; margin: 0px; padding: 0px; }button { text-transform: none; }button { appearance: button; background-color: transparent; background-image: none; }::-webkit-inner-spin-button, ::-webkit-outer-spin-button { height: auto; }::-webkit-search-decoration { appearance: none; }::-webkit-file-upload-button { appearance: button; font: inherit; }h1, h2, h3, h4, hr, p, pre { margin: 0px; }ul { list-style: none; margin: 0px; padding: 0px; }button { cursor: pointer; }:disabled { cursor: default; }canvas, iframe, svg, video { display: block; vertical-align: middle; }video { max-width: 100%; height: auto; }*, ::after, ::before { --tw-border-spacing-x: 0; --tw-border-spacing-y: 0; --tw-translate-x: 0; --tw-translate-y: 0; --tw-rotate: 0; --tw-skew-x: 0; --tw-skew-y: 0; --tw-scale-x: 1; --tw-scale-y: 1; --tw-pan-x: ; --tw-pan-y: ; --tw-pinch-zoom: ; --tw-scroll-snap-strictness: proximity; --tw-ordinal: ; --tw-slashed-zero: ; --tw-numeric-figure: ; --tw-numeric-spacing: ; --tw-numeric-fraction: ; --tw-ring-inset: ; --tw-ring-offset-width: 0px; --tw-ring-offset-color: #fff; --tw-ring-color: rgba(0,112,243,.5); --tw-ring-offset-shadow: 0 0 #0000; --tw-ring-shadow: 0 0 #0000; --tw-shadow: 0 0 #0000; --tw-shadow-colored: 0 0 #0000; --tw-blur: ; --tw-brightness: ; --tw-contrast: ; --tw-grayscale: ; --tw-hue-rotate: ; --tw-invert: ; --tw-saturate: ; --tw-sepia: ; --tw-drop-shadow: ; --tw-backdrop-blur: ; --tw-backdrop-brightness: ; --tw-backdrop-contrast: ; --tw-backdrop-grayscale: ; --tw-backdrop-hue-rotate: ; --tw-backdrop-invert: ; --tw-backdrop-opacity: ; --tw-backdrop-saturate: ; --tw-backdrop-sepia: ; }::backdrop { --tw-border-spacing-x: 0; --tw-border-spacing-y: 0; --tw-translate-x: 0; --tw-translate-y: 0; --tw-rotate: 0; --tw-skew-x: 0; --tw-skew-y: 0; --tw-scale-x: 1; --tw-scale-y: 1; --tw-pan-x: ; --tw-pan-y: ; --tw-pinch-zoom: ; --tw-scroll-snap-strictness: proximity; --tw-ordinal: ; --tw-slashed-zero: ; --tw-numeric-figure: ; --tw-numeric-spacing: ; --tw-numeric-fraction: ; --tw-ring-inset: ; --tw-ring-offset-width: 0px; --tw-ring-offset-color: #fff; --tw-ring-color: rgba(0,112,243,.5); --tw-ring-offset-shadow: 0 0 #0000; --tw-ring-shadow: 0 0 #0000; --tw-shadow: 0 0 #0000; --tw-shadow-colored: 0 0 #0000; --tw-blur: ; --tw-brightness: ; --tw-contrast: ; --tw-grayscale: ; --tw-hue-rotate: ; --tw-invert: ; --tw-saturate: ; --tw-sepia: ; --tw-drop-shadow: ; --tw-backdrop-blur: ; --tw-backdrop-brightness: ; --tw-backdrop-contrast: ; --tw-backdrop-grayscale: ; --tw-backdrop-hue-rotate: ; --tw-backdrop-invert: ; --tw-backdrop-opacity: ; --tw-backdrop-saturate: ; --tw-backdrop-sepia: ; }.sr-only { position: absolute !important; width: 1px !important; height: 1px !important; padding: 0px !important; margin: -1px !important; overflow: hidden !important; clip: rect(0px, 0px, 0px, 0px) !important; white-space: nowrap !important; border-width: 0px !important; }.fixed { position: fixed !important; }.absolute { position: absolute !important; }.relative { position: relative !important; }.top-full { top: 100% !important; }.left-0 { left: 0px !important; }.z-30 { z-index: 30 !important; }.z-20 { z-index: 20 !important; }.mx-auto { margin-left: auto !important; margin-right: auto !important; }.my-12 { margin-top: 3rem !important; margin-bottom: 3rem !important; }.-my-2 { margin-top: -0.5rem !important; margin-bottom: -0.5rem !important; }.mb-4 { margin-bottom: 1rem !important; }.mb-0 { margin-bottom: 0px !important; }.mr-8 { margin-right: 2rem !important; }.mb-3 { margin-bottom: 0.75rem !important; }.mb-8 { margin-bottom: 2rem !important; }.mb-2 { margin-bottom: 0.5rem !important; }.mb-6 { margin-bottom: 1.5rem !important; }.ml-3 { margin-left: 0.75rem !important; }.mr-4 { margin-right: 1rem !important; }.ml-2 { margin-left: 0.5rem !important; }.mb-20 { margin-bottom: 5rem !important; }.mb-12 { margin-bottom: 3rem !important; }.mt-12 { margin-top: 3rem !important; }.mb-5 { margin-bottom: 1.25rem !important; }.mt-5 { margin-top: 1.25rem !important; }.mt-3 { margin-top: 0.75rem !important; }.mt-10 { margin-top: 2.5rem !important; }.mt-8 { margin-top: 2rem !important; }.mr-3 { margin-right: 0.75rem !important; }.-mb-1 { margin-bottom: -0.25rem !important; }.mt-1 { margin-top: 0.25rem !important; }.block { display: block !important; }.inline-block { display: inline-block !important; }.flex { display: flex !important; }.grid { display: grid !important; }.hidden { display: none !important; }.h-screen { height: 100vh !important; }.h-16 { height: 4rem !important; }.h-6 { height: 1.5rem !important; }.h-px { height: 1px !important; }.h-4 { height: 1rem !important; }.w-full { width: 100% !important; }.w-6 { width: 1.5rem !important; }.w-16 { width: 4rem !important; }.w-auto { width: auto !important; }.w-4 { width: 1rem !important; }.max-w-6xl { max-width: 72rem !important; }.max-w-xs { max-width: 20rem !important; }.max-w-4xl { max-width: 56rem !important; }.flex-shrink-0 { flex-shrink: 0 !important; }.flex-grow { flex-grow: 1 !important; }.cursor-pointer { cursor: pointer !important; }.list-disc { list-style-type: disc !important; }.flex-wrap { flex-wrap: wrap !important; }.items-center { align-items: center !important; }.justify-end { justify-content: flex-end !important; }.justify-between { justify-content: space-between !important; }.gap-8 { gap: 2rem !important; }.overflow-hidden { overflow: hidden !important; }.overflow-scroll { overflow: scroll !important; }.break-words { overflow-wrap: break-word !important; }.rounded-md { border-radius: 0.375rem !important; }.border { border-width: 1px !important; }.border-0 { border-width: 0px !important; }.border-t { border-top-width: 1px !important; }.border-l { border-left-width: 1px !important; }.border-neutral-200 { --tw-border-opacity: 1 !important; border-color: rgb(229 229 229/var(--tw-border-opacity)) !important; }.border-neutral-300 { --tw-border-opacity: 1 !important; border-color: rgb(212 212 212/var(--tw-border-opacity)) !important; }.border-zinc-700 { --tw-border-opacity: 1 !important; border-color: rgb(63 63 70/var(--tw-border-opacity)) !important; }.bg-neutral-900 { --tw-bg-opacity: 1 !important; background-color: rgb(23 23 23/var(--tw-bg-opacity)) !important; }.bg-white { --tw-bg-opacity: 1 !important; }.bg-white { background-color: rgb(255 255 255/var(--tw-bg-opacity)) !important; }.bg-neutral-200 { --tw-bg-opacity: 1 !important; background-color: rgb(229 229 229/var(--tw-bg-opacity)) !important; }.bg-\[\#171717\] { --tw-bg-opacity: 1 !important; background-color: rgb(23 23 23/var(--tw-bg-opacity)) !important; }.bg-zinc-100 { --tw-bg-opacity: 1 !important; background-color: rgb(244 244 245/var(--tw-bg-opacity)) !important; }.bg-gradient-to-r { background-image: linear-gradient(to right,var(--tw-gradient-stops)) !important; }.from-pink-200 { --tw-gradient-from: #ec008c !important; --tw-gradient-to: rgba(236,0,140,0) !important; --tw-gradient-stops: var(--tw-gradient-from),var(--tw-gradient-to) !important; }.to-blue-500 { --tw-gradient-to: #0070f3 !important; }.bg-clip-text { background-clip: text !important; }.fill-black { fill: rgb(0, 0, 0) !important; }.fill-current { fill: currentcolor !important; }.p-6 { padding: 1.5rem !important; }.px-5 { padding-left: 1.25rem !important; padding-right: 1.25rem !important; }.px-4 { padding-left: 1rem !important; padding-right: 1rem !important; }.py-1 { padding-top: 0.25rem !important; padding-bottom: 0.25rem !important; }.py-6 { padding-top: 1.5rem !important; padding-bottom: 1.5rem !important; }.px-3 { padding-left: 0.75rem !important; padding-right: 0.75rem !important; }.py-4 { padding-top: 1rem !important; padding-bottom: 1rem !important; }.py-8 { padding-top: 2rem !important; padding-bottom: 2rem !important; }.pb-16 { padding-bottom: 4rem !important; }.pt-32 { padding-top: 8rem !important; }.pb-12 { padding-bottom: 3rem !important; }.pt-px { padding-top: 1px !important; }.pl-7 { padding-left: 1.75rem !important; }.pl-1\.5 { padding-left: 0.375rem !important; }.pl-5 { padding-left: 1.25rem !important; }.text-center { text-align: center !important; }.text-base { font-size: 1rem !important; }.text-xl { font-size: 1.25rem !important; }.text-sm { font-size: 0.875rem !important; }.text-5xl { font-size: 3.25rem !important; }.text-2xl { font-size: 1.5rem !important; }.font-medium { font-weight: 500 !important; }.font-bold { font-weight: 700 !important; }.font-semibold { font-weight: 600 !important; }.font-extrabold { font-weight: 800 !important; }.font-normal { font-weight: 400 !important; }.leading-tighter { line-height: 1.125 !important; }.leading-5 { line-height: 1.2rem !important; }.leading-4 { line-height: 1rem !important; }.leading-6 { line-height: 1.5rem !important; }.tracking-tighter { letter-spacing: -0.02em !important; }.text-neutral-200 { --tw-text-opacity: 1 !important; color: rgb(229 229 229/var(--tw-text-opacity)) !important; }.text-white { --tw-text-opacity: 1 !important; color: rgb(255 255 255/var(--tw-text-opacity)) !important; }.text-neutral-600 { --tw-text-opacity: 1 !important; color: rgb(82 82 82/var(--tw-text-opacity)) !important; }.text-neutral-900 { --tw-text-opacity: 1 !important; color: rgb(23 23 23/var(--tw-text-opacity)) !important; }.text-blue-600 { --tw-text-opacity: 1 !important; color: rgb(0 112 244/var(--tw-text-opacity)) !important; }.text-transparent { color: transparent !important; }.text-neutral-800 { --tw-text-opacity: 1 !important; color: rgb(38 38 38/var(--tw-text-opacity)) !important; }.shadow-md { --tw-shadow: 0 4px 6px -1px rgba(0,0,0,.04),0 2px 4px -1px rgba(0,0,0,.03) !important; --tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color),0 2px 4px -1px var(--tw-shadow-color) !important; }.shadow-md { box-shadow: var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow) !important; }.shadow-lg { box-shadow: var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow) !important; }.shadow-lg { --tw-shadow: 0 10px 15px -3px rgba(0,0,0,.04),0 4px 6px -2px rgba(0,0,0,.02) !important; --tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color),0 4px 6px -2px var(--tw-shadow-color) !important; }.shadow-gray-200 { --tw-shadow-color: #eaeaea !important; --tw-shadow: var(--tw-shadow-colored) !important; }.backdrop-blur { --tw-backdrop-blur: blur(8px) !important; backdrop-filter: var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia) !important; }.transition { transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-backdrop-filter !important; transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1) !important; transition-duration: 0.15s !important; }.transition-all { transition-property: all !important; transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1) !important; }.duration-150, .transition-all { transition-duration: 0.15s !important; }.duration-300 { transition-duration: 0.3s !important; }.ease-in-out { transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1) !important; }:root { --shiki-color-text: #f8f8f2; --shiki-color-background: transparent; --shiki-token-constant: #bd93f9; --shiki-token-string: #f1fa8c; --shiki-token-comment: #6272a4; --shiki-token-keyword: #ff79c6; --shiki-token-parameter: #ff9800; --shiki-token-function: #50fa7b; --shiki-token-string-expression: #f1fa8c; --shiki-token-punctuation: #ff79c6; }body, html { padding: 0px; margin: 0px; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif; -webkit-font-smoothing: antialiased; }a { color: inherit; }* { box-sizing: border-box; }.h1 { font-size: 2.625rem; }.h1 { font-weight: 800; line-height: 1.25; letter-spacing: -0.02em; }p:not(td p):not(.space-card-contents p) { margin-top: 1.25rem; margin-bottom: 1.25rem; font-family: Inter, sans-serif; font-size: 1rem; line-height: 2rem; --tw-text-opacity: 1; color: rgb(38 38 38/var(--tw-text-opacity)); }@media (prefers-color-scheme: dark) {
  p:not(td p):not(.space-card-contents p) { --tw-text-opacity: 1; color: rgb(229 229 229/var(--tw-text-opacity)); }
}@media (min-width: 768px) {
  .h1 { font-size: 3.25rem; }
}.btn, .btn-sm { display: inline-flex; align-items: center; justify-content: center; border-radius: 0.25rem; font-weight: 500; line-height: 1.375; transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-backdrop-filter; transition-duration: 0.15s; transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1); }.btn { padding: 0.75rem 2rem; --tw-shadow: 0 10px 15px -3px rgba(0,0,0,.04),0 4px 6px -2px rgba(0,0,0,.02); --tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color),0 4px 6px -2px var(--tw-shadow-color); }.btn, .btn-sm { box-shadow: var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow); }.btn-sm { padding: 0.5rem 1rem; --tw-shadow: 0 1px 3px 0 rgba(0,0,0,.1),0 1px 2px -1px rgba(0,0,0,.1); --tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color),0 1px 2px -1px var(--tw-shadow-color); }article * { scroll-margin-top: 50px; }header nav { z-index: 1; }:root { --main-width: calc(100vw - 3em); }@media (min-width: 37.5em) {
  :root { --main-width: calc(37.5em - 3em); }
}code:not(pre > code) { background-color: rgb(243, 243, 240); padding: 4px 10px; border-radius: 4px; font-size: 90%; }.grid-cp { display: grid; grid-template-rows: 40px 1fr; gap: 0px; width: 100%; max-height: 600px; box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 10px; background-color: rgb(23, 23, 23); border-radius: 5px; }.grid-cp > div:first-child { border-top-left-radius: 5px; }.grid-cp > div:nth-child(2) { border-bottom-left-radius: 5px; }.grid-cp > div:nth-child(3) { border-top-right-radius: 5px; }.grid-cp > div:nth-child(4) { border-bottom-right-radius: 5px; }#showPreview-true { grid-template-columns: repeat(2, 50%); grid-template-rows: 40px 560px; }#grid-top-left { grid-area: 1 / 1 / 2 / 2; height: 100%; overflow: scroll; }#grid-bottom-left { grid-area: 2 / 1 / 3 / 2; height: 100%; overflow: scroll; }#grid-top-right { grid-area: 1 / 2 / 2 / 3; height: 100%; border-left: 2px solid rgb(40, 42, 54); overflow: scroll; }#grid-bottom-right { grid-area: 2 / 2 / 3 / 3; height: 100%; border-left: 2px solid rgb(45, 45, 45); overflow: scroll; }.code-preview { overflow: hidden; }.code-preview { border-radius: 0px; background-color: rgb(23, 23, 23); height: 105%; margin-left: -25px; min-height: 600px; position: relative; }.code-preview iframe { height: 100%; position: absolute; }.codeblock { overflow: scroll; background-color: rgb(23, 23, 23); height: 100%; box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px; }.codeblock pre { margin: 0px; font-family: Menlo; font-size: 14px; background-color: transparent !important; }.token-line { margin: 7px 0px; text-align: left; }.tab { color: rgb(211, 211, 211); font-size: 12px; display: flex; align-items: center; background-color: rgb(23, 23, 23); z-index: 999; height: 100%; font-weight: 600; }.tab-logo { height: 13px; width: 13px; margin-right: 7px; }.file-title { border-right: 1px solid rgb(45, 45, 45); padding: 0px 2em; display: flex; align-items: center; height: 100%; cursor: pointer; }.file-title:hover { background-color: rgba(37, 36, 47, 0.28); }.file-title.active-true { background-color: rgb(37, 36, 47); }.file-titles { font-family: Menlo; height: 100%; display: flex; overflow: scroll; }#preview-tab { display: flex; justify-content: flex-end; padding: 0px 0.7em; }#preview-tab a { color: rgb(237, 237, 237); text-decoration: none; }html { scroll-behavior: smooth; }.btn-sm:focus, .btn:focus, :focus, button:focus { }.hamburger svg > :first-child, .hamburger svg > :nth-child(2), .hamburger svg > :nth-child(3) { transform-origin: center center; }.hamburger svg > :first-child { transition: y 0.1s ease-in 0.25s, transform 0.22s cubic-bezier(0.55, 0.055, 0.675, 0.19) 0s, opacity 0.1s ease-in 0s; }.hamburger svg > :nth-child(2) { transition: transform 0.22s cubic-bezier(0.55, 0.055, 0.675, 0.19) 0s; }.hamburger svg > :nth-child(3) { transition: y 0.1s ease-in 0.25s, transform 0.22s cubic-bezier(0.55, 0.055, 0.675, 0.19) 0s, width 0.1s ease-in 0.25s; }#mobile-nav { opacity: 0; visibility: hidden; transition: all 0.3s ease-in-out 0s; }.mdx-a { text-decoration: underline; }.line { display: inline-block; padding-left: 1rem; padding-right: 1rem; width: 100%; }.line.highlighted { background-color: rgb(50, 53, 69); box-shadow: rgb(146, 153, 192) -2px 0px 0px 0px; }@media (prefers-color-scheme: dark) {
  body, html { background-color: rgb(25, 25, 25); }
  .code-preview, .codeblock, .codeblock pre, code:not(pre > code) { background-color: rgb(40, 42, 54); }
  .tab { background-color: rgb(75, 85, 99); }
}.marker\:text-neutral-300 ::marker { color: rgb(212, 212, 212) !important; }.marker\:text-neutral-300::marker { color: rgb(212, 212, 212) !important; }.hover\:bg-neutral-800:hover { --tw-bg-opacity: 1 !important; background-color: rgb(38 38 38/var(--tw-bg-opacity)) !important; }.hover\:bg-neutral-600:hover { --tw-bg-opacity: 1 !important; background-color: rgb(82 82 82/var(--tw-bg-opacity)) !important; }.hover\:text-neutral-900:hover { --tw-text-opacity: 1 !important; color: rgb(23 23 23/var(--tw-text-opacity)) !important; }.hover\:underline:hover { text-decoration-line: underline !important; }@media (prefers-color-scheme: dark) {
  .dark\:border-neutral-700 { --tw-border-opacity: 1 !important; border-color: rgb(64 64 64/var(--tw-border-opacity)) !important; }
  .dark\:border-neutral-700\/80 { border-color: rgba(64, 64, 64, 0.8) !important; }
  .dark\:border-neutral-200 { --tw-border-opacity: 1 !important; border-color: rgb(229 229 229/var(--tw-border-opacity)) !important; }
  .dark\:bg-neutral-800 { --tw-bg-opacity: 1 !important; background-color: rgb(38 38 38/var(--tw-bg-opacity)) !important; }
  .dark\:bg-neutral-700 { --tw-bg-opacity: 1 !important; background-color: rgb(64 64 64/var(--tw-bg-opacity)) !important; }
  .dark\:bg-neutral-900 { --tw-bg-opacity: 1 !important; background-color: rgb(23 23 23/var(--tw-bg-opacity)) !important; }
  .dark\:bg-neutral-900\/90 { background-color: rgba(23, 23, 23, 0.9) !important; }
  .dark\:bg-\[\#282a36\] { --tw-bg-opacity: 1 !important; background-color: rgb(40 42 54/var(--tw-bg-opacity)) !important; }
  .dark\:fill-white { fill: rgb(255, 255, 255) !important; }
  .dark\:text-neutral-300 { --tw-text-opacity: 1 !important; color: rgb(212 212 212/var(--tw-text-opacity)) !important; }
  .dark\:text-neutral-400 { --tw-text-opacity: 1 !important; color: rgb(163 163 163/var(--tw-text-opacity)) !important; }
  .dark\:text-neutral-100 { --tw-text-opacity: 1 !important; color: rgb(245 245 245/var(--tw-text-opacity)) !important; }
  .dark\:text-white { --tw-text-opacity: 1 !important; color: rgb(255 255 255/var(--tw-text-opacity)) !important; }
  .dark\:shadow-gray-900 { --tw-shadow-color: #191919 !important; --tw-shadow: var(--tw-shadow-colored) !important; }
  .dark\:hover\:bg-neutral-800\/50:hover { background-color: rgba(38, 38, 38, 0.5) !important; }
  .dark\:hover\:text-neutral-400:hover { --tw-text-opacity: 1 !important; color: rgb(163 163 163/var(--tw-text-opacity)) !important; }
}@media (min-width: 640px) {
  .sm\:col-span-12 { grid-column: span 12 / span 12 !important; }
  .sm\:col-span-6 { grid-column: span 6 / span 6 !important; }
  .sm\:max-w-none { max-width: none !important; }
  .sm\:grid-cols-12 { grid-template-columns: repeat(12, minmax(0px, 1fr)) !important; }
  .sm\:justify-center { justify-content: center !important; }
  .sm\:px-6 { padding-left: 1.5rem !important; padding-right: 1.5rem !important; }
}@media (min-width: 768px) {
  .md\:col-span-3 { grid-column: span 3 / span 3 !important; }
  .md\:my-0 { margin-top: 0px !important; margin-bottom: 0px !important; }
  .md\:mr-12 { margin-right: 3rem !important; }
  .md\:block { display: block !important; }
  .md\:flex { display: flex !important; }
  .md\:hidden { display: none !important; }
  .md\:h-20 { height: 5rem !important; }
  .md\:w-64 { width: 16rem !important; }
  .md\:flex-shrink-0 { flex-shrink: 0 !important; }
  .md\:flex-grow { flex-grow: 1 !important; }
  .md\:items-center { align-items: center !important; }
  .md\:justify-between { justify-content: space-between !important; }
  .md\:bg-opacity-90 { --tw-bg-opacity: 0.9 !important; }
  .md\:py-12 { padding-top: 3rem !important; padding-bottom: 3rem !important; }
  .md\:py-8 { padding-top: 2rem !important; padding-bottom: 2rem !important; }
  .md\:pt-40 { padding-top: 10rem !important; }
  .md\:pb-20 { padding-bottom: 5rem !important; }
  .md\:text-6xl { font-size: 5.5rem !important; }
}@media (min-width: 1024px) {
  .lg\:col-span-3 { grid-column: span 3 / span 3 !important; }
  .lg\:col-span-2 { grid-column: span 2 / span 2 !important; }
  .lg\:mr-20 { margin-right: 5rem !important; }
  .lg\:block { display: block !important; }
  .lg\:flex { display: flex !important; }
  .lg\:max-w-none { max-width: none !important; }
  .lg\:justify-between { justify-content: space-between !important; }
}</style></head><body><div id="__next"><header class="fixed w-full z-30 md:bg-opacity-90 transition duration-300 ease-in-out false"><div class="max-w-6xl mx-auto px-5 sm:px-6"><div class="flex items-center justify-between h-16 md:h-20"><div class="flex-shrink-0 mr-4"><a class="block" aria-label="Cruip" href="/"><svg xmlns="http://www.w3.org/2000/svg" width="122" height="28" viewBox="0 0 122 28" class="fill-black dark:fill-white"><g stroke="none"><g transform="translate(-215 -16)"><path d="M221.372 43.136v-8.82h.085a4.67 4.67 0 00.975 1.485c.423.437.934.782 1.534 1.034s1.284.378 2.051.378a5.94 5.94 0 003.212-.916c.977-.61 1.758-1.538 2.344-2.78.586-1.244.879-2.81.879-4.699 0-1.974-.307-3.58-.922-4.815-.614-1.236-1.41-2.141-2.386-2.717-.977-.575-2.005-.863-3.084-.863-.81 0-1.52.14-2.131.421-.61.28-1.122.654-1.534 1.119a5.004 5.004 0 00-.938 1.528h-.127v-2.855h-5.839v22.5h5.881zm2.472-10.44c-.54 0-1.003-.158-1.39-.474-.388-.316-.686-.764-.895-1.342-.21-.58-.315-1.266-.315-2.062 0-.81.105-1.504.315-2.083.21-.578.507-1.022.894-1.331.388-.31.851-.464 1.39-.464.54 0 1 .155 1.38.464.38.309.672.753.874 1.331.202.58.304 1.274.304 2.083 0 .81-.102 1.504-.304 2.083-.202.579-.494 1.023-.874 1.332-.38.309-.84.463-1.38.463zm14.78 4.56A7.06 7.06 0 00240.58 37a4.449 4.449 0 001.588-.82c.465-.377.861-.87 1.188-1.481h.128V37h5.497V25.793c0-.76-.173-1.465-.517-2.115-.344-.65-.843-1.218-1.497-1.705-.653-.486-1.445-.866-2.376-1.14-.93-.273-1.981-.41-3.153-.41-1.626 0-2.983.254-4.07.762-1.086.508-1.912 1.183-2.476 2.024a5.579 5.579 0 00-.954 2.754h5.412c.071-.504.282-.879.634-1.124.351-.245.808-.367 1.369-.367.511 0 .93.113 1.257.34.327.228.49.554.49.98v.043a.895.895 0 01-.373.751c-.248.189-.651.334-1.209.437-.558.103-1.294.19-2.21.261-.846.064-1.632.203-2.36.416a6.027 6.027 0 00-1.913.926 4.135 4.135 0 00-1.278 1.561c-.305.636-.458 1.401-.458 2.296 0 1.087.227 1.981.682 2.685a4.127 4.127 0 001.88 1.571c.799.344 1.72.517 2.765.517zm1.918-3.708c-.497 0-.905-.12-1.225-.362-.32-.241-.48-.59-.48-1.044 0-.284.07-.542.208-.772a1.66 1.66 0 01.64-.586c.287-.16.658-.275 1.113-.346.234-.036.46-.075.676-.118.217-.042.423-.088.618-.138.196-.05.38-.103.554-.16.174-.057.34-.117.496-.181v1.364c0 .497-.125.92-.373 1.267-.249.348-.57.615-.964.8a2.94 2.94 0 01-1.263.276zm14.195 3.266c.916.351 2.05.491 3.399.42.667-.035 1.244-.11 1.73-.223.487-.114.862-.21 1.125-.288l-.853-4.134c-.113.029-.289.064-.527.107a3.596 3.596 0 01-.623.064 1.52 1.52 0 01-.629-.112.737.737 0 01-.362-.34 1.244 1.244 0 01-.117-.57l-.001-6.84h2.813v-4.262l-2.813.001v-3.921H252v3.921h-2.088v4.26l2.088.001v7.393c-.013 1.04.171 1.92.551 2.643l.12.212c.462.76 1.15 1.316 2.067 1.668zm11.287 0c.916.351 2.049.491 3.398.42.668-.035 1.245-.11 1.731-.223.487-.114.861-.21 1.124-.288l-.852-4.134c-.114.029-.29.064-.527.107a3.596 3.596 0 01-.624.064 1.52 1.52 0 01-.628-.112.737.737 0 01-.362-.34 1.244 1.244 0 01-.118-.57v-6.84h2.813v-4.262l-2.813.001v-3.921h-5.88l-.001 3.921h-2.087v4.26l2.087.001v7.393c-.012 1.04.172 1.92.552 2.643l.12.212c.462.76 1.15 1.316 2.067 1.668zm15.153.484c1.513 0 2.836-.229 3.969-.687 1.133-.458 2.043-1.104 2.732-1.939.69-.834 1.126-1.82 1.31-2.956h-5.369a1.95 1.95 0 01-.532.783c-.242.217-.531.382-.869.495a3.47 3.47 0 01-1.113.17c-.582 0-1.08-.116-1.491-.35a2.395 2.395 0 01-.948-.97c-.22-.412-.33-.88-.33-1.407l-.001-.255h10.654v-1.364c0-1.3-.192-2.468-.576-3.505-.383-1.037-.93-1.92-1.64-2.647a7.064 7.064 0 00-2.568-1.667c-1.001-.384-2.12-.576-3.356-.576-1.69 0-3.156.352-4.4 1.055a7.309 7.309 0 00-2.886 2.951c-.682 1.264-1.023 2.741-1.023 4.432 0 1.761.339 3.272 1.017 4.533a6.936 6.936 0 002.909 2.898c1.26.67 2.764 1.006 4.511 1.006zm-2.642-10.355c.014-.476.14-.891.378-1.246s.556-.634.954-.837a2.847 2.847 0 011.31-.303c.49 0 .929.101 1.316.303.387.203.696.483.927.842.23.359.35.772.357 1.241h-5.242zM296.597 37v-8.523c0-.625.132-1.17.395-1.635a2.814 2.814 0 011.08-1.087c.459-.259.976-.389 1.55-.389.306 0 .672.025 1.098.075.426.05.785.124 1.076.224v-5.018a5.324 5.324 0 00-.73-.165 4.968 4.968 0 00-.761-.059c-.874 0-1.636.267-2.285.8-.65.532-1.124 1.374-1.423 2.524h-.17v-3.11h-5.71V37h5.88zm12.14 0v-9.205c.006-.54.106-1.003.297-1.39.192-.387.467-.685.826-.895.359-.21.78-.314 1.263-.314.738 0 1.315.23 1.73.692.416.462.62 1.098.613 1.907V37h5.881V26.56c.007-1.186-.226-2.241-.698-3.164a5.394 5.394 0 00-1.992-2.179c-.856-.53-1.863-.794-3.02-.794-1.2 0-2.25.295-3.148.885a4.627 4.627 0 00-1.88 2.44h-.171v-3.112h-5.583V37h5.881zm20.15.298c1.512 0 2.86-.232 4.042-.698 1.183-.465 2.117-1.125 2.802-1.981.686-.856 1.032-1.866 1.039-3.03-.007-1.208-.421-2.172-1.241-2.893-.82-.721-2.069-1.234-3.745-1.54l-3.324-.596c-.625-.114-1.046-.274-1.262-.48-.217-.206-.322-.43-.315-.67-.007-.342.17-.605.533-.79.362-.184.796-.276 1.3-.276.39 0 .747.065 1.07.197.324.131.588.318.794.56.206.24.323.528.352.862h5.412c-.071-1.733-.79-3.09-2.158-4.07-1.367-.98-3.233-1.47-5.598-1.47-1.555 0-2.9.208-4.032.624-1.133.415-2.003 1.019-2.61 1.81-.608.793-.908 1.757-.9 2.893-.008 1.286.404 2.337 1.235 3.153.831.817 2.081 1.371 3.75 1.662l2.898.512c.64.113 1.11.262 1.412.447.301.185.456.433.463.746-.007.34-.187.604-.538.788-.352.185-.797.277-1.337.277-.668 0-1.22-.14-1.657-.42a1.655 1.655 0 01-.772-1.2h-5.838c.163 1.677.95 3.026 2.36 4.05 1.41 1.022 3.364 1.533 5.864 1.533z"></path></g></g></svg></a></div><nav class="hidden md:flex md:flex-grow"><ul class="flex flex-grow justify-end flex-wrap items-center"><li><a target="_blank" class="btn-sm text-neutral-200 bg-neutral-900 hover:bg-neutral-800 ml-3 dark:bg-neutral-800" href="https://docs.google.com/forms/d/e/1FAIpQLSfe0IUVRTR2lmVwumrMXLqV3VfhOSqduSXTd0ScfN7IayWxcA/viewform?usp=pp_url&amp;entry.1237294424=undefined">Send feedback</a></li></ul></nav><div class="flex md:hidden"><button class="hamburger " aria-controls="mobile-nav"><span class="sr-only">Menu</span><svg class="w-6 h-6 fill-black dark:fill-white text-neutral-900" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><rect y="4" width="24" height="2"></rect><rect y="11" width="24" height="2"></rect><rect y="18" width="24" height="2"></rect></svg></button><nav id="mobile-nav" class="absolute top-full h-screen pb-16 z-20 left-0 w-full overflow-scroll bg-white transition-all duration-300 backdrop-blur shadow-lg dark:bg-neutral-900/90 ease-in-out "><div class="p-6"><div class="font-medium -my-2"><ul class="py-4"><li><span class="flex items-center hover:underline"><div class="flex items-center flex-grow"><svg class="w-4 h-4 fill-current text-blue-600 mr-3 flex-shrink-0" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M15 4H4c-.6 0-1-.4-1-1V1c0-.6.4-1 1-1h11c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1zM12 10H1c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h11c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1zM15 16H4c-.6 0-1-.4-1-1v-2c0-.6.4-1 1-1h11c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1z"></path></svg><span class="text-neutral-900 dark:text-neutral-100">Design Patterns</span></div></span></li><li><ul class="font-normal -mb-1 mt-1 ml-2"><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/introduction">Introduction</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 font-bold bg-zinc-100 border-zinc-700 dark:bg-neutral-800 dark:border-neutral-200"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/singleton-pattern">Singleton Pattern</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/proxy-pattern">Proxy Pattern</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/provider-pattern">Provider Pattern</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/prototype-pattern">Prototype Pattern</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/presentational-container-pattern">Container/Presentational Pattern</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/observer-pattern">Observer Pattern</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/module-pattern">Module Pattern</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/mixin-pattern">Mixin Pattern</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/mediator-pattern">Mediator/Middleware Pattern</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/hoc-pattern">HOC Pattern</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/render-props-pattern">Render Props Pattern</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/hooks-pattern">Hooks Pattern</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/flyweight-pattern">Flyweight Pattern</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/factory-pattern">Factory Pattern</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/compound-pattern">Compound Pattern</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/command-pattern">Command Pattern</a></li></ul></li></ul><ul class="py-4"><li><span class="flex items-center hover:underline"><div class="flex items-center flex-grow"><svg class="w-4 h-4 fill-current text-blue-600 mr-3 flex-shrink-0" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M15 4H4c-.6 0-1-.4-1-1V1c0-.6.4-1 1-1h11c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1zM12 10H1c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h11c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1zM15 16H4c-.6 0-1-.4-1-1v-2c0-.6.4-1 1-1h11c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1z"></path></svg><span class="text-neutral-900 dark:text-neutral-100">Rendering Patterns</span></div></span></li><li><ul class="font-normal -mb-1 mt-1 ml-2"><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/rendering-patterns">Introduction</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/reactjs">Overview of React.js</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/client-side-rendering">Client-side Rendering</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/server-side-rendering">Server-side Rendering</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/static-rendering">Static Rendering</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/incremental-static-rendering">Incremental Static Generation</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/progressive-hydration">Progressive Hydration</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/streaming-ssr">Streaming Server-Side Rendering</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/react-server-components">React Server Components</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/react-selective-hydration">Selective Hydration</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/islands-architecture">Islands Architecture</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/view-transitions">Animating View Transitions</a></li></ul></li></ul><ul class="py-4"><li><span class="flex items-center hover:underline"><div class="flex items-center flex-grow"><svg class="w-4 h-4 fill-current text-blue-600 mr-3 flex-shrink-0" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M15 4H4c-.6 0-1-.4-1-1V1c0-.6.4-1 1-1h11c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1zM12 10H1c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h11c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1zM15 16H4c-.6 0-1-.4-1-1v-2c0-.6.4-1 1-1h11c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1z"></path></svg><span class="text-neutral-900 dark:text-neutral-100">Performance Patterns</span></div></span></li><li><ul class="font-normal -mb-1 mt-1 ml-2"><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/loading-sequence">Optimize your loading sequence</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/static-import">Static Import</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/dynamic-import">Dynamic Import</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/import-on-visibility">Import On Visibility</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/import-on-interaction">Import On Interaction</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/route-based">Route Based Splitting</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/bundle-splitting">Bundle Splitting</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/prpl">PRPL Pattern</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/tree-shaking">Tree Shaking</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/preload">Preload</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/prefetch">Prefetch</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/third-party">Optimize loading third-parties</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/virtual-lists">List Virtualization</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/compression">Compressing JavaScript</a></li></ul></li></ul></div></div></nav></div></div></div></header><section class="bg-white dark:bg-neutral-900"><div class="max-w-6xl mx-auto px-4 sm:px-6"><div class="pt-32 pb-12 md:pt-40 md:pb-20"><div class="max-w-4xl mx-auto lg:max-w-none"><article><header class="max-w-4xl mx-auto mb-20"><h1 class="h1 text-center text-5xl md:text-6xl font-extrabold leading-tighter tracking-tighter mb-4 bg-clip-text text-transparent bg-gradient-to-r from-pink-200 to-blue-500 break-words" style="word-break:break-word">Singleton Pattern</h1><p class="text-xl text-center text-neutral-900 mb-8 dark:text-neutral-100">Share a single global instance throughout our application</p></header><div class="lg:flex lg:justify-between"><aside class="hidden lg:block relative my-12 md:my-0 md:w-64 md:mr-12 lg:mr-20 md:flex-shrink-0"><nav class="md:block"><div class="font-medium -my-2"><ul class="py-4"><li><span class="flex items-center hover:underline"><div class="flex items-center flex-grow"><svg class="w-4 h-4 fill-current text-blue-600 mr-3 flex-shrink-0" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M15 4H4c-.6 0-1-.4-1-1V1c0-.6.4-1 1-1h11c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1zM12 10H1c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h11c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1zM15 16H4c-.6 0-1-.4-1-1v-2c0-.6.4-1 1-1h11c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1z"></path></svg><span class="text-neutral-900 dark:text-neutral-100">Design Patterns</span></div></span></li><li><ul class="font-normal -mb-1 mt-1 ml-2"><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/introduction">Introduction</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 font-bold bg-zinc-100 border-zinc-700 dark:bg-neutral-800 dark:border-neutral-200"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/singleton-pattern">Singleton Pattern</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/proxy-pattern">Proxy Pattern</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/provider-pattern">Provider Pattern</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/prototype-pattern">Prototype Pattern</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/presentational-container-pattern">Container/Presentational Pattern</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/observer-pattern">Observer Pattern</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/module-pattern">Module Pattern</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/mixin-pattern">Mixin Pattern</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/mediator-pattern">Mediator/Middleware Pattern</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/hoc-pattern">HOC Pattern</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/render-props-pattern">Render Props Pattern</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/hooks-pattern">Hooks Pattern</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/flyweight-pattern">Flyweight Pattern</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/factory-pattern">Factory Pattern</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/compound-pattern">Compound Pattern</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/command-pattern">Command Pattern</a></li></ul></li></ul><ul class="py-4"><li><span class="flex items-center hover:underline"><div class="flex items-center flex-grow"><svg class="w-4 h-4 fill-current text-blue-600 mr-3 flex-shrink-0" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M15 4H4c-.6 0-1-.4-1-1V1c0-.6.4-1 1-1h11c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1zM12 10H1c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h11c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1zM15 16H4c-.6 0-1-.4-1-1v-2c0-.6.4-1 1-1h11c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1z"></path></svg><span class="text-neutral-900 dark:text-neutral-100">Rendering Patterns</span></div></span></li><li><ul class="font-normal -mb-1 mt-1 ml-2"><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/rendering-patterns">Introduction</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/reactjs">Overview of React.js</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/client-side-rendering">Client-side Rendering</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/server-side-rendering">Server-side Rendering</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/static-rendering">Static Rendering</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/incremental-static-rendering">Incremental Static Generation</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/progressive-hydration">Progressive Hydration</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/streaming-ssr">Streaming Server-Side Rendering</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/react-server-components">React Server Components</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/react-selective-hydration">Selective Hydration</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/islands-architecture">Islands Architecture</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/view-transitions">Animating View Transitions</a></li></ul></li></ul><ul class="py-4"><li><span class="flex items-center hover:underline"><div class="flex items-center flex-grow"><svg class="w-4 h-4 fill-current text-blue-600 mr-3 flex-shrink-0" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M15 4H4c-.6 0-1-.4-1-1V1c0-.6.4-1 1-1h11c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1zM12 10H1c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h11c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1zM15 16H4c-.6 0-1-.4-1-1v-2c0-.6.4-1 1-1h11c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1z"></path></svg><span class="text-neutral-900 dark:text-neutral-100">Performance Patterns</span></div></span></li><li><ul class="font-normal -mb-1 mt-1 ml-2"><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/loading-sequence">Optimize your loading sequence</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/static-import">Static Import</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/dynamic-import">Dynamic Import</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/import-on-visibility">Import On Visibility</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/import-on-interaction">Import On Interaction</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/route-based">Route Based Splitting</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/bundle-splitting">Bundle Splitting</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/prpl">PRPL Pattern</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/tree-shaking">Tree Shaking</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/preload">Preload</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/prefetch">Prefetch</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/third-party">Optimize loading third-parties</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/virtual-lists">List Virtualization</a></li><li class="cursor-pointer py-1 text-sm pl-5 border-l border-neutral-300 dark:border-neutral-700 dark:hover:bg-neutral-800/50 false"><a class="text-neutral-600 hover:underline dark:text-neutral-300" href="/posts/compression">Compressing JavaScript</a></li></ul></li></ul></div></nav></aside><div class="relative block overflow-hidden px-3"><hr class="w-16 h-px pt-px bg-neutral-200 border-0 mb-6 dark:bg-neutral-700"><div class="prose text-base text-neutral-800 inter"><p>Singletons are classes which can be instantiated once, and can be accessed globally. This <em>single instance</em> can be shared throughout our application, which makes Singletons great for managing global state in an application.</p>
<p>First, let's take a look at what a singleton can look like using an ES2015 class. For this example, we're going to build a <code class="leading-6">Counter</code> class that has:</p>
<ul class="mb-5 mt-5 pl-7 list-disc marker:text-neutral-300 text-base">
<li class="mb-3 mt-3 pl-1.5 dark:text-neutral-100">a <code class="leading-6">getInstance</code> method that returns the value of the instance</li>
<li class="mb-3 mt-3 pl-1.5 dark:text-neutral-100">a <code class="leading-6">getCount</code> method that returns the current value of the <code class="leading-6">counter</code> variable</li>
<li class="mb-3 mt-3 pl-1.5 dark:text-neutral-100">an <code class="leading-6">increment</code> method that increments the value of <code class="leading-6">counter</code> by one</li>
<li class="mb-3 mt-3 pl-1.5 dark:text-neutral-100">a <code class="leading-6">decrement</code> method that decrements the value of <code class="leading-6">counter</code> by one</li>
</ul>
<div data-rehype-pretty-code-fragment=""><pre data-language="js" data-theme="default" class="overflow-scroll w-full rounded-md px-4 py-6 text-sm shadow-md text-white bg-[#171717] shadow-gray-200 dark:bg-[#282a36] dark:shadow-gray-900"><code data-language="js" data-theme="default" class="leading-6"><span class="line"><span style="color: var(--shiki-token-keyword);">let</span><span style="color: var(--shiki-color-text);"> counter </span><span style="color: var(--shiki-token-keyword);">=</span><span style="color: var(--shiki-color-text);"> </span><span style="color: var(--shiki-token-constant);">0</span><span style="color: var(--shiki-color-text);">;</span></span>
<span class="line"> </span>
<span class="line"><span style="color: var(--shiki-token-keyword);">class</span><span style="color: var(--shiki-color-text);"> </span><span style="color: var(--shiki-token-function);">Counter</span><span style="color: var(--shiki-color-text);"> {</span></span>
<span class="line"><span style="color: var(--shiki-color-text);">  </span><span style="color: var(--shiki-token-function);">getInstance</span><span style="color: var(--shiki-color-text);">() {</span></span>
<span class="line"><span style="color: var(--shiki-color-text);">    </span><span style="color: var(--shiki-token-keyword);">return</span><span style="color: var(--shiki-color-text);"> </span><span style="color: var(--shiki-token-constant);">this</span><span style="color: var(--shiki-color-text);">;</span></span>
<span class="line"><span style="color: var(--shiki-color-text);">  }</span></span>
<span class="line"> </span>
<span class="line"><span style="color: var(--shiki-color-text);">  </span><span style="color: var(--shiki-token-function);">getCount</span><span style="color: var(--shiki-color-text);">() {</span></span>
<span class="line"><span style="color: var(--shiki-color-text);">    </span><span style="color: var(--shiki-token-keyword);">return</span><span style="color: var(--shiki-color-text);"> counter;</span></span>
<span class="line"><span style="color: var(--shiki-color-text);">  }</span></span>
<span class="line"> </span>
<span class="line"><span style="color: var(--shiki-color-text);">  </span><span style="color: var(--shiki-token-function);">increment</span><span style="color: var(--shiki-color-text);">() {</span></span>
<span class="line"><span style="color: var(--shiki-color-text);">    </span><span style="color: var(--shiki-token-keyword);">return</span><span style="color: var(--shiki-color-text);"> </span><span style="color: var(--shiki-token-keyword);">++</span><span style="color: var(--shiki-color-text);">counter;</span></span>
<span class="line"><span style="color: var(--shiki-color-text);">  }</span></span>
<span class="line"> </span>
<span class="line"><span style="color: var(--shiki-color-text);">  </span><span style="color: var(--shiki-token-function);">decrement</span><span style="color: var(--shiki-color-text);">() {</span></span>
<span class="line"><span style="color: var(--shiki-color-text);">    </span><span style="color: var(--shiki-token-keyword);">return</span><span style="color: var(--shiki-color-text);"> </span><span style="color: var(--shiki-token-keyword);">--</span><span style="color: var(--shiki-color-text);">counter;</span></span>
<span class="line"><span style="color: var(--shiki-color-text);">  }</span></span>
<span class="line"><span style="color: var(--shiki-color-text);">}</span></span></code></pre></div>
<p>However, this class doesn't meet the criteria for a Singleton! A Singleton should only be able to get <strong class="dark:text-white">instantiated once</strong>. Currently, we can create multiple instances of the <code class="leading-6">Counter</code> class.</p>
<div data-rehype-pretty-code-fragment=""><pre data-language="js" data-theme="default" class="overflow-scroll w-full rounded-md px-4 py-6 text-sm shadow-md text-white bg-[#171717] shadow-gray-200 dark:bg-[#282a36] dark:shadow-gray-900"><code data-language="js" data-theme="default" class="leading-6"><span class="line"><span style="color: var(--shiki-token-keyword);">let</span><span style="color: var(--shiki-color-text);"> counter </span><span style="color: var(--shiki-token-keyword);">=</span><span style="color: var(--shiki-color-text);"> </span><span style="color: var(--shiki-token-constant);">0</span><span style="color: var(--shiki-color-text);">;</span></span>
<span class="line"> </span>
<span class="line"><span style="color: var(--shiki-token-keyword);">class</span><span style="color: var(--shiki-color-text);"> </span><span style="color: var(--shiki-token-function);">Counter</span><span style="color: var(--shiki-color-text);"> {</span></span>
<span class="line"><span style="color: var(--shiki-color-text);">  </span><span style="color: var(--shiki-token-function);">getInstance</span><span style="color: var(--shiki-color-text);">() {</span></span>
<span class="line"><span style="color: var(--shiki-color-text);">    </span><span style="color: var(--shiki-token-keyword);">return</span><span style="color: var(--shiki-color-text);"> </span><span style="color: var(--shiki-token-constant);">this</span><span style="color: var(--shiki-color-text);">;</span></span>
<span class="line"><span style="color: var(--shiki-color-text);">  }</span></span>
<span class="line"> </span>
<span class="line"><span style="color: var(--shiki-color-text);">  </span><span style="color: var(--shiki-token-function);">getCount</span><span style="color: var(--shiki-color-text);">() {</span></span>
<span class="line"><span style="color: var(--shiki-color-text);">    </span><span style="color: var(--shiki-token-keyword);">return</span><span style="color: var(--shiki-color-text);"> counter;</span></span>
<span class="line"><span style="color: var(--shiki-color-text);">  }</span></span>
<span class="line"> </span>
<span class="line"><span style="color: var(--shiki-color-text);">  </span><span style="color: var(--shiki-token-function);">increment</span><span style="color: var(--shiki-color-text);">() {</span></span>
<span class="line"><span style="color: var(--shiki-color-text);">    </span><span style="color: var(--shiki-token-keyword);">return</span><span style="color: var(--shiki-color-text);"> </span><span style="color: var(--shiki-token-keyword);">++</span><span style="color: var(--shiki-color-text);">counter;</span></span>
<span class="line"><span style="color: var(--shiki-color-text);">  }</span></span>
<span class="line"> </span>
<span class="line"><span style="color: var(--shiki-color-text);">  </span><span style="color: var(--shiki-token-function);">decrement</span><span style="color: var(--shiki-color-text);">() {</span></span>
<span class="line"><span style="color: var(--shiki-color-text);">    </span><span style="color: var(--shiki-token-keyword);">return</span><span style="color: var(--shiki-color-text);"> </span><span style="color: var(--shiki-token-keyword);">--</span><span style="color: var(--shiki-color-text);">counter;</span></span>
<span class="line"><span style="color: var(--shiki-color-text);">  }</span></span>
<span class="line"><span style="color: var(--shiki-color-text);">}</span></span>
<span class="line"> </span>
<span class="line highlighted"><span style="color: var(--shiki-token-keyword);">const</span><span style="color: var(--shiki-color-text);"> </span><span style="color: var(--shiki-token-constant);">counter1</span><span style="color: var(--shiki-color-text);"> </span><span style="color: var(--shiki-token-keyword);">=</span><span style="color: var(--shiki-color-text);"> </span><span style="color: var(--shiki-token-keyword);">new</span><span style="color: var(--shiki-color-text);"> </span><span style="color: var(--shiki-token-function);">Counter</span><span style="color: var(--shiki-color-text);">();</span></span>
<span class="line highlighted"><span style="color: var(--shiki-token-keyword);">const</span><span style="color: var(--shiki-color-text);"> </span><span style="color: var(--shiki-token-constant);">counter2</span><span style="color: var(--shiki-color-text);"> </span><span style="color: var(--shiki-token-keyword);">=</span><span style="color: var(--shiki-color-text);"> </span><span style="color: var(--shiki-token-keyword);">new</span><span style="color: var(--shiki-color-text);"> </span><span style="color: var(--shiki-token-function);">Counter</span><span style="color: var(--shiki-color-text);">();</span></span>
<span class="line"> </span>
<span class="line"><span style="color: var(--shiki-token-constant);">console</span><span style="color: var(--shiki-token-function);">.log</span><span style="color: var(--shiki-color-text);">(</span><span style="color: var(--shiki-token-constant);">counter1</span><span style="color: var(--shiki-token-function);">.getInstance</span><span style="color: var(--shiki-color-text);">() </span><span style="color: var(--shiki-token-keyword);">===</span><span style="color: var(--shiki-color-text);"> </span><span style="color: var(--shiki-token-constant);">counter2</span><span style="color: var(--shiki-token-function);">.getInstance</span><span style="color: var(--shiki-color-text);">()); </span><span style="color: var(--shiki-token-comment);">// false</span></span></code></pre></div>
<p>By calling the <code class="leading-6">new</code> method twice, we just set <code class="leading-6">counter1</code> and <code class="leading-6">counter2</code> equal to different instances. The values returned by the <code class="leading-6">getInstance</code> method on <code class="leading-6">counter1</code> and <code class="leading-6">counter2</code> effectively returned references to different instances: they aren't strictly equal!</p>
<div class="lazyload-wrapper "><video width="100%" src="https://res.cloudinary.com/ddxwdqwkr/video/upload/f_auto/v1609056519/patterns.dev/jspat-52_zkwyk1.mp4" autoplay="" controls="" playsinline="" loop="" poster="https://res.cloudinary.com/ddxwdqwkr/video/upload/f_auto/v1609056519/patterns.dev/jspat-52_zkwyk1.jpg"><source src="https://res.cloudinary.com/ddxwdqwkr/video/upload/f_auto/v1609056519/patterns.dev/jspat-52_zkwyk1.mp4" type="video/mp4"></video></div>
<p>Let's make sure that only <strong class="dark:text-white">one</strong> instance of the <code class="leading-6">Counter</code> class can be created.</p>
<p>One way to make sure that only one instance can be created, is by creating a variable called <code class="leading-6">instance</code>. In the constructor of <code class="leading-6">Counter</code>, we can set <code class="leading-6">instance</code> equal to a reference to the instance when a new instance is created. We can prevent new instantiations by checking if the <code class="leading-6">instance</code> variable already had a value. If that's the case, an instance already exists. This shouldn't happen: an error should get thrown to let the user know</p>
<div data-rehype-pretty-code-fragment=""><pre data-language="js" data-theme="default" class="overflow-scroll w-full rounded-md px-4 py-6 text-sm shadow-md text-white bg-[#171717] shadow-gray-200 dark:bg-[#282a36] dark:shadow-gray-900"><code data-language="js" data-theme="default" class="leading-6"><span class="line highlighted"><span style="color: var(--shiki-token-keyword);">let</span><span style="color: var(--shiki-color-text);"> instance;</span></span>
<span class="line"><span style="color: var(--shiki-token-keyword);">let</span><span style="color: var(--shiki-color-text);"> counter </span><span style="color: var(--shiki-token-keyword);">=</span><span style="color: var(--shiki-color-text);"> </span><span style="color: var(--shiki-token-constant);">0</span><span style="color: var(--shiki-color-text);">;</span></span>
<span class="line"> </span>
<span class="line"><span style="color: var(--shiki-token-keyword);">class</span><span style="color: var(--shiki-color-text);"> </span><span style="color: var(--shiki-token-function);">Counter</span><span style="color: var(--shiki-color-text);"> {</span></span>
<span class="line"><span style="color: var(--shiki-color-text);">  </span><span style="color: var(--shiki-token-keyword);">constructor</span><span style="color: var(--shiki-color-text);">() {</span></span>
<span class="line highlighted"><span style="color: var(--shiki-color-text);">    </span><span style="color: var(--shiki-token-keyword);">if</span><span style="color: var(--shiki-color-text);"> (instance) {</span></span>
<span class="line highlighted"><span style="color: var(--shiki-color-text);">      </span><span style="color: var(--shiki-token-keyword);">throw</span><span style="color: var(--shiki-color-text);"> </span><span style="color: var(--shiki-token-keyword);">new</span><span style="color: var(--shiki-color-text);"> </span><span style="color: var(--shiki-token-function);">Error</span><span style="color: var(--shiki-color-text);">(</span><span style="color: var(--shiki-token-string-expression);">"You can only create one instance!"</span><span style="color: var(--shiki-color-text);">);</span></span>
<span class="line highlighted"><span style="color: var(--shiki-color-text);">    }</span></span>
<span class="line highlighted"><span style="color: var(--shiki-color-text);">    instance </span><span style="color: var(--shiki-token-keyword);">=</span><span style="color: var(--shiki-color-text);"> </span><span style="color: var(--shiki-token-constant);">this</span><span style="color: var(--shiki-color-text);">;</span></span>
<span class="line"><span style="color: var(--shiki-color-text);">  }</span></span>
<span class="line"> </span>
<span class="line"><span style="color: var(--shiki-color-text);">  </span><span style="color: var(--shiki-token-function);">getInstance</span><span style="color: var(--shiki-color-text);">() {</span></span>
<span class="line"><span style="color: var(--shiki-color-text);">    </span><span style="color: var(--shiki-token-keyword);">return</span><span style="color: var(--shiki-color-text);"> </span><span style="color: var(--shiki-token-constant);">this</span><span style="color: var(--shiki-color-text);">;</span></span>
<span class="line"><span style="color: var(--shiki-color-text);">  }</span></span>
<span class="line"> </span>
<span class="line"><span style="color: var(--shiki-color-text);">  </span><span style="color: var(--shiki-token-function);">getCount</span><span style="color: var(--shiki-color-text);">() {</span></span>
<span class="line"><span style="color: var(--shiki-color-text);">    </span><span style="color: var(--shiki-token-keyword);">return</span><span style="color: var(--shiki-color-text);"> counter;</span></span>
<span class="line"><span style="color: var(--shiki-color-text);">  }</span></span>
<span class="line"> </span>
<span class="line"><span style="color: var(--shiki-color-text);">  </span><span style="color: var(--shiki-token-function);">increment</span><span style="color: var(--shiki-color-text);">() {</span></span>
<span class="line"><span style="color: var(--shiki-color-text);">    </span><span style="color: var(--shiki-token-keyword);">return</span><span style="color: var(--shiki-color-text);"> </span><span style="color: var(--shiki-token-keyword);">++</span><span style="color: var(--shiki-color-text);">counter;</span></span>
<span class="line"><span style="color: var(--shiki-color-text);">  }</span></span>
<span class="line"> </span>
<span class="line"><span style="color: var(--shiki-color-text);">  </span><span style="color: var(--shiki-token-function);">decrement</span><span style="color: var(--shiki-color-text);">() {</span></span>
<span class="line"><span style="color: var(--shiki-color-text);">    </span><span style="color: var(--shiki-token-keyword);">return</span><span style="color: var(--shiki-color-text);"> </span><span style="color: var(--shiki-token-keyword);">--</span><span style="color: var(--shiki-color-text);">counter;</span></span>
<span class="line"><span style="color: var(--shiki-color-text);">  }</span></span>
<span class="line"><span style="color: var(--shiki-color-text);">}</span></span>
<span class="line"> </span>
<span class="line"><span style="color: var(--shiki-token-keyword);">const</span><span style="color: var(--shiki-color-text);"> </span><span style="color: var(--shiki-token-constant);">counter1</span><span style="color: var(--shiki-color-text);"> </span><span style="color: var(--shiki-token-keyword);">=</span><span style="color: var(--shiki-color-text);"> </span><span style="color: var(--shiki-token-keyword);">new</span><span style="color: var(--shiki-color-text);"> </span><span style="color: var(--shiki-token-function);">Counter</span><span style="color: var(--shiki-color-text);">();</span></span>
<span class="line"><span style="color: var(--shiki-token-keyword);">const</span><span style="color: var(--shiki-color-text);"> </span><span style="color: var(--shiki-token-constant);">counter2</span><span style="color: var(--shiki-color-text);"> </span><span style="color: var(--shiki-token-keyword);">=</span><span style="color: var(--shiki-color-text);"> </span><span style="color: var(--shiki-token-keyword);">new</span><span style="color: var(--shiki-color-text);"> </span><span style="color: var(--shiki-token-function);">Counter</span><span style="color: var(--shiki-color-text);">();</span></span>
<span class="line"><span style="color: var(--shiki-token-comment);">// Error: You can only create one instance!</span></span></code></pre></div>
<p>Perfect! We aren't able to create multiple instances anymore.</p>
<p>Let's export the <code class="leading-6">Counter</code> instance from the <code class="leading-6">counter.js</code> file. But before doing so, we should <!-- -->freeze<!-- --> the instance as well. The <code class="leading-6">Object.freeze</code> method makes sure that consuming code cannot modify the Singleton. Properties on the frozen instance cannot be added or modified, which reduces the risk of accidentally overwriting the values on the Singleton.</p>
<div data-rehype-pretty-code-fragment=""><pre data-language="js" data-theme="default" class="overflow-scroll w-full rounded-md px-4 py-6 text-sm shadow-md text-white bg-[#171717] shadow-gray-200 dark:bg-[#282a36] dark:shadow-gray-900"><code data-language="js" data-theme="default" class="leading-6"><span class="line"><span style="color: var(--shiki-token-keyword);">let</span><span style="color: var(--shiki-color-text);"> instance;</span></span>
<span class="line"><span style="color: var(--shiki-token-keyword);">let</span><span style="color: var(--shiki-color-text);"> counter </span><span style="color: var(--shiki-token-keyword);">=</span><span style="color: var(--shiki-color-text);"> </span><span style="color: var(--shiki-token-constant);">0</span><span style="color: var(--shiki-color-text);">;</span></span>
<span class="line"> </span>
<span class="line"><span style="color: var(--shiki-token-keyword);">class</span><span style="color: var(--shiki-color-text);"> </span><span style="color: var(--shiki-token-function);">Counter</span><span style="color: var(--shiki-color-text);"> {</span></span>
<span class="line"><span style="color: var(--shiki-color-text);">  </span><span style="color: var(--shiki-token-keyword);">constructor</span><span style="color: var(--shiki-color-text);">() {</span></span>
<span class="line"><span style="color: var(--shiki-color-text);">    </span><span style="color: var(--shiki-token-keyword);">if</span><span style="color: var(--shiki-color-text);"> (instance) {</span></span>
<span class="line"><span style="color: var(--shiki-color-text);">      </span><span style="color: var(--shiki-token-keyword);">throw</span><span style="color: var(--shiki-color-text);"> </span><span style="color: var(--shiki-token-keyword);">new</span><span style="color: var(--shiki-color-text);"> </span><span style="color: var(--shiki-token-function);">Error</span><span style="color: var(--shiki-color-text);">(</span><span style="color: var(--shiki-token-string-expression);">"You can only create one instance!"</span><span style="color: var(--shiki-color-text);">);</span></span>
<span class="line"><span style="color: var(--shiki-color-text);">    }</span></span>
<span class="line"><span style="color: var(--shiki-color-text);">    instance </span><span style="color: var(--shiki-token-keyword);">=</span><span style="color: var(--shiki-color-text);"> </span><span style="color: var(--shiki-token-constant);">this</span><span style="color: var(--shiki-color-text);">;</span></span>
<span class="line"><span style="color: var(--shiki-color-text);">  }</span></span>
<span class="line"> </span>
<span class="line"><span style="color: var(--shiki-color-text);">  </span><span style="color: var(--shiki-token-function);">getInstance</span><span style="color: var(--shiki-color-text);">() {</span></span>
<span class="line"><span style="color: var(--shiki-color-text);">    </span><span style="color: var(--shiki-token-keyword);">return</span><span style="color: var(--shiki-color-text);"> </span><span style="color: var(--shiki-token-constant);">this</span><span style="color: var(--shiki-color-text);">;</span></span>
<span class="line"><span style="color: var(--shiki-color-text);">  }</span></span>
<span class="line"> </span>
<span class="line"><span style="color: var(--shiki-color-text);">  </span><span style="color: var(--shiki-token-function);">getCount</span><span style="color: var(--shiki-color-text);">() {</span></span>
<span class="line"><span style="color: var(--shiki-color-text);">    </span><span style="color: var(--shiki-token-keyword);">return</span><span style="color: var(--shiki-color-text);"> counter;</span></span>
<span class="line"><span style="color: var(--shiki-color-text);">  }</span></span>
<span class="line"> </span>
<span class="line"><span style="color: var(--shiki-color-text);">  </span><span style="color: var(--shiki-token-function);">increment</span><span style="color: var(--shiki-color-text);">() {</span></span>
<span class="line"><span style="color: var(--shiki-color-text);">    </span><span style="color: var(--shiki-token-keyword);">return</span><span style="color: var(--shiki-color-text);"> </span><span style="color: var(--shiki-token-keyword);">++</span><span style="color: var(--shiki-color-text);">counter;</span></span>
<span class="line"><span style="color: var(--shiki-color-text);">  }</span></span>
<span class="line"> </span>
<span class="line"><span style="color: var(--shiki-color-text);">  </span><span style="color: var(--shiki-token-function);">decrement</span><span style="color: var(--shiki-color-text);">() {</span></span>
<span class="line"><span style="color: var(--shiki-color-text);">    </span><span style="color: var(--shiki-token-keyword);">return</span><span style="color: var(--shiki-color-text);"> </span><span style="color: var(--shiki-token-keyword);">--</span><span style="color: var(--shiki-color-text);">counter;</span></span>
<span class="line"><span style="color: var(--shiki-color-text);">  }</span></span>
<span class="line"><span style="color: var(--shiki-color-text);">}</span></span>
<span class="line"> </span>
<span class="line highlighted"><span style="color: var(--shiki-token-keyword);">const</span><span style="color: var(--shiki-color-text);"> </span><span style="color: var(--shiki-token-constant);">singletonCounter</span><span style="color: var(--shiki-color-text);"> </span><span style="color: var(--shiki-token-keyword);">=</span><span style="color: var(--shiki-color-text);"> </span><span style="color: var(--shiki-token-constant);">Object</span><span style="color: var(--shiki-token-function);">.freeze</span><span style="color: var(--shiki-color-text);">(</span><span style="color: var(--shiki-token-keyword);">new</span><span style="color: var(--shiki-color-text);"> </span><span style="color: var(--shiki-token-function);">Counter</span><span style="color: var(--shiki-color-text);">());</span></span>
<span class="line highlighted"><span style="color: var(--shiki-token-keyword);">export</span><span style="color: var(--shiki-color-text);"> </span><span style="color: var(--shiki-token-keyword);">default</span><span style="color: var(--shiki-color-text);"> singletonCounter;</span></span></code></pre></div>
<hr class="border mb-12 mt-12 border-neutral-150 dark:border-neutral-700/80">
<p>Let's take a look at an application that implements the <code class="leading-6">Counter</code> example. We have the following files:</p>
<ul class="mb-5 mt-5 pl-7 list-disc marker:text-neutral-300 text-base">
<li class="mb-3 mt-3 pl-1.5 dark:text-neutral-100"><code class="leading-6">counter.js</code>: contains the <code class="leading-6">Counter</code> class, and exports a <strong class="dark:text-white"><code class="leading-6">Counter</code> instance</strong> as its default export</li>
<li class="mb-3 mt-3 pl-1.5 dark:text-neutral-100"><code class="leading-6">index.js</code>: loads the <code class="leading-6">redButton.js</code> and <code class="leading-6">blueButton.js</code> modules</li>
<li class="mb-3 mt-3 pl-1.5 dark:text-neutral-100"><code class="leading-6">redButton.js</code>: imports <code class="leading-6">Counter</code>, and adds <code class="leading-6">Counter</code>'s <code class="leading-6">increment</code> method as an event listener to the <strong class="dark:text-white">red</strong> button, and logs the current value of <code class="leading-6">counter</code> by invoking the <code class="leading-6">getCount</code> method</li>
<li class="mb-3 mt-3 pl-1.5 dark:text-neutral-100"><code class="leading-6">blueButton.js</code>: imports <code class="leading-6">Counter</code>, and adds <code class="leading-6">Counter</code>'s <code class="leading-6">increment</code> method as an event listener to the <strong class="dark:text-white">blue</strong> button, and logs the current value of <code class="leading-6">counter</code> by invoking the <code class="leading-6">getCount</code> method</li>
</ul>
<div><div class="grid-cp false" style="grid-template-columns:repeat(2, 50%)" id="showPreview-true"><div id="grid-top-left"><div class="tab file-titles"><div class="file-title active-true"><svg fill="#F7DF1E" role="img" class="tab-logo" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>JavaScript icon</title><path d="M0 0h24v24H0V0zm22.034 18.276c-.175-1.095-.888-2.015-3.003-2.873-.736-.345-1.554-.585-1.797-1.14-.091-.33-.105-.51-.046-.705.15-.646.915-.84 1.515-.66.39.12.75.42.976.9 1.034-.676 1.034-.676 1.755-1.125-.27-.42-.404-.601-.586-.78-.63-.705-1.469-1.065-2.834-1.034l-.705.089c-.676.165-1.32.525-1.71 1.005-1.14 1.291-.811 3.541.569 4.471 1.365 1.02 3.361 1.244 3.616 2.205.24 1.17-.87 1.545-1.966 1.41-.811-.18-1.26-.586-1.755-1.336l-1.83 1.051c.21.48.45.689.81 1.109 1.74 1.756 6.09 1.666 6.871-1.004.029-.09.24-.705.074-1.65l.046.067zm-8.983-7.245h-2.248c0 1.938-.009 3.864-.009 5.805 0 1.232.063 2.363-.138 2.711-.33.689-1.18.601-1.566.48-.396-.196-.597-.466-.83-.855-.063-.105-.11-.196-.127-.196l-1.825 1.125c.305.63.75 1.172 1.324 1.517.855.51 2.004.675 3.207.405.783-.226 1.458-.691 1.811-1.411.51-.93.402-2.07.397-3.346.012-2.054 0-4.109 0-6.179l.004-.056z"></path></svg>index.js</div><div class="file-title active-false"><svg fill="#F7DF1E" role="img" class="tab-logo" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>JavaScript icon</title><path d="M0 0h24v24H0V0zm22.034 18.276c-.175-1.095-.888-2.015-3.003-2.873-.736-.345-1.554-.585-1.797-1.14-.091-.33-.105-.51-.046-.705.15-.646.915-.84 1.515-.66.39.12.75.42.976.9 1.034-.676 1.034-.676 1.755-1.125-.27-.42-.404-.601-.586-.78-.63-.705-1.469-1.065-2.834-1.034l-.705.089c-.676.165-1.32.525-1.71 1.005-1.14 1.291-.811 3.541.569 4.471 1.365 1.02 3.361 1.244 3.616 2.205.24 1.17-.87 1.545-1.966 1.41-.811-.18-1.26-.586-1.755-1.336l-1.83 1.051c.21.48.45.689.81 1.109 1.74 1.756 6.09 1.666 6.871-1.004.029-.09.24-.705.074-1.65l.046.067zm-8.983-7.245h-2.248c0 1.938-.009 3.864-.009 5.805 0 1.232.063 2.363-.138 2.711-.33.689-1.18.601-1.566.48-.396-.196-.597-.466-.83-.855-.063-.105-.11-.196-.127-.196l-1.825 1.125c.305.63.75 1.172 1.324 1.517.855.51 2.004.675 3.207.405.783-.226 1.458-.691 1.811-1.411.51-.93.402-2.07.397-3.346.012-2.054 0-4.109 0-6.179l.004-.056z"></path></svg>counter.js</div><div class="file-title active-false"><svg fill="#F7DF1E" role="img" class="tab-logo" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>JavaScript icon</title><path d="M0 0h24v24H0V0zm22.034 18.276c-.175-1.095-.888-2.015-3.003-2.873-.736-.345-1.554-.585-1.797-1.14-.091-.33-.105-.51-.046-.705.15-.646.915-.84 1.515-.66.39.12.75.42.976.9 1.034-.676 1.034-.676 1.755-1.125-.27-.42-.404-.601-.586-.78-.63-.705-1.469-1.065-2.834-1.034l-.705.089c-.676.165-1.32.525-1.71 1.005-1.14 1.291-.811 3.541.569 4.471 1.365 1.02 3.361 1.244 3.616 2.205.24 1.17-.87 1.545-1.966 1.41-.811-.18-1.26-.586-1.755-1.336l-1.83 1.051c.21.48.45.689.81 1.109 1.74 1.756 6.09 1.666 6.871-1.004.029-.09.24-.705.074-1.65l.046.067zm-8.983-7.245h-2.248c0 1.938-.009 3.864-.009 5.805 0 1.232.063 2.363-.138 2.711-.33.689-1.18.601-1.566.48-.396-.196-.597-.466-.83-.855-.063-.105-.11-.196-.127-.196l-1.825 1.125c.305.63.75 1.172 1.324 1.517.855.51 2.004.675 3.207.405.783-.226 1.458-.691 1.811-1.411.51-.93.402-2.07.397-3.346.012-2.054 0-4.109 0-6.179l.004-.056z"></path></svg>redButton.js</div><div class="file-title active-false"><svg fill="#F7DF1E" role="img" class="tab-logo" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>JavaScript icon</title><path d="M0 0h24v24H0V0zm22.034 18.276c-.175-1.095-.888-2.015-3.003-2.873-.736-.345-1.554-.585-1.797-1.14-.091-.33-.105-.51-.046-.705.15-.646.915-.84 1.515-.66.39.12.75.42.976.9 1.034-.676 1.034-.676 1.755-1.125-.27-.42-.404-.601-.586-.78-.63-.705-1.469-1.065-2.834-1.034l-.705.089c-.676.165-1.32.525-1.71 1.005-1.14 1.291-.811 3.541.569 4.471 1.365 1.02 3.361 1.244 3.616 2.205.24 1.17-.87 1.545-1.966 1.41-.811-.18-1.26-.586-1.755-1.336l-1.83 1.051c.21.48.45.689.81 1.109 1.74 1.756 6.09 1.666 6.871-1.004.029-.09.24-.705.074-1.65l.046.067zm-8.983-7.245h-2.248c0 1.938-.009 3.864-.009 5.805 0 1.232.063 2.363-.138 2.711-.33.689-1.18.601-1.566.48-.396-.196-.597-.466-.83-.855-.063-.105-.11-.196-.127-.196l-1.825 1.125c.305.63.75 1.172 1.324 1.517.855.51 2.004.675 3.207.405.783-.226 1.458-.691 1.811-1.411.51-.93.402-2.07.397-3.346.012-2.054 0-4.109 0-6.179l.004-.056z"></path></svg>blueButton.js</div></div></div><div id="grid-bottom-left"><div class="codeblock"><pre class="prism-code language-jsx" style="color:#F8F8F2;background-color:#282A36;padding:1rem"><div class="token-line" style="color:#F8F8F2"><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"./redButton"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"./blueButton"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"Click on either of the buttons 🚀!"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span></div></pre></div></div><div id="grid-top-right"><div class="tab file-preview" id="preview-tab"><a href="https://codesandbox.io/embed/lucid-morning-64mr1" target="_blank" rel="noreferrer">Open CodeSandbox</a></div></div><div id="grid-bottom-right"><div class="code-preview"><iframe src="https://codesandbox.io/embed/lucid-morning-64mr1?expanddevtools=0&amp;hidenavigation=1&amp;theme=darkcodemirror=1&amp;runonclick=1" style="width:100%;border:0;overflow:hidden" loading="lazy" name="Code Preview" allow="geolocation; microphone; camera; midi; vr; accelerometer; gyroscope; payment; ambient-light-sensor; encrypted-media; usb" sandbox="allow-modals allow-forms allow-popups allow-scripts allow-same-origin" title="Code Preview"></iframe></div></div></div></div>
<p>Both <code class="leading-6">blueButton.js</code> and <code class="leading-6">redButton.js</code> import the <strong class="dark:text-white">same instance</strong> from <code class="leading-6">counter.js</code>. This instance is imported as <strong class="dark:text-white"><code class="leading-6">Counter</code></strong> in both files.</p>
<div class="lazyload-wrapper "><video width="100%" src="https://res.cloudinary.com/ddxwdqwkr/video/upload/f_auto/v1609056519/patterns.dev/jspat-56_wylvcf.mp4" autoplay="" controls="" playsinline="" loop="" poster="https://res.cloudinary.com/ddxwdqwkr/video/upload/f_auto/v1609056519/patterns.dev/jspat-56_wylvcf.jpg"><source src="https://res.cloudinary.com/ddxwdqwkr/video/upload/f_auto/v1609056519/patterns.dev/jspat-56_wylvcf.mp4" type="video/mp4"></video></div>
<p>When we invoke the <code class="leading-6">increment</code> method in either <code class="leading-6">redButton.js</code> or <code class="leading-6">blueButton.js</code>, the value of the <code class="leading-6">counter</code> property on the <code class="leading-6">Counter</code> instance updates in both files. It doesn't matter whether we click on the red or blue button: the same value is shared among all instances. This is why the counter keeps incrementing by one, even though we're invoking the method in different files.</p>
<hr class="border mb-12 mt-12 border-neutral-150 dark:border-neutral-700/80">
<h2 id="tradeoffs" class="font-bold leading-5 mb-6 mt-10 text-2xl dark:text-neutral-100">Tradeoffs</h2>
<p>Restricting the instantiation to just <em>one</em> instance could potentially save a lot of memory space. Instead of having to set up memory for a new instance each time, we only have to set up memory for that one instance, which is referenced throughout the application. However, Singletons are actually considered an <strong class="dark:text-white">anti-pattern</strong>, and can (or.. <em>should</em>) be avoided in JavaScript.</p>
<p>In many programming languages, such as Java or C++, it's not possible to directly create objects the way we can in JavaScript. In those object-oriented programming languages, we need to create a class, which creates an object. That created object has the value of the instance of the class, just like the value of <code class="leading-6">instance</code> in the JavaScript example.</p>
<p>However, the class implementation shown in the examples above is actually overkill. Since we can directly create objects in JavaScript, we can simply use a regular object to achieve the exact same result. Let's cover some of the disadvantages of using Singletons!</p>
<h3 id="using-a-regular-object" class="text-xl font-bold leading-4 mb-6 mt-8 dark:text-neutral-100">Using a regular object</h3>
<p>Let's use the same example as we saw previously. However this time, the <code class="leading-6">counter</code> is simply an object containing:</p>
<ul class="mb-5 mt-5 pl-7 list-disc marker:text-neutral-300 text-base">
<li class="mb-3 mt-3 pl-1.5 dark:text-neutral-100">a <code class="leading-6">count</code> property</li>
<li class="mb-3 mt-3 pl-1.5 dark:text-neutral-100">an <code class="leading-6">increment</code> method that increments the value of <code class="leading-6">count</code> by one</li>
<li class="mb-3 mt-3 pl-1.5 dark:text-neutral-100">a <code class="leading-6">decrement</code> method that decrements the value of <code class="leading-6">count</code> by one</li>
</ul>
<div><div class="grid-cp false" style="grid-template-columns:repeat(2, 50%)" id="showPreview-true"><div id="grid-top-left"><div class="tab file-titles"><div class="file-title active-true"><svg fill="#F7DF1E" role="img" class="tab-logo" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>JavaScript icon</title><path d="M0 0h24v24H0V0zm22.034 18.276c-.175-1.095-.888-2.015-3.003-2.873-.736-.345-1.554-.585-1.797-1.14-.091-.33-.105-.51-.046-.705.15-.646.915-.84 1.515-.66.39.12.75.42.976.9 1.034-.676 1.034-.676 1.755-1.125-.27-.42-.404-.601-.586-.78-.63-.705-1.469-1.065-2.834-1.034l-.705.089c-.676.165-1.32.525-1.71 1.005-1.14 1.291-.811 3.541.569 4.471 1.365 1.02 3.361 1.244 3.616 2.205.24 1.17-.87 1.545-1.966 1.41-.811-.18-1.26-.586-1.755-1.336l-1.83 1.051c.21.48.45.689.81 1.109 1.74 1.756 6.09 1.666 6.871-1.004.029-.09.24-.705.074-1.65l.046.067zm-8.983-7.245h-2.248c0 1.938-.009 3.864-.009 5.805 0 1.232.063 2.363-.138 2.711-.33.689-1.18.601-1.566.48-.396-.196-.597-.466-.83-.855-.063-.105-.11-.196-.127-.196l-1.825 1.125c.305.63.75 1.172 1.324 1.517.855.51 2.004.675 3.207.405.783-.226 1.458-.691 1.811-1.411.51-.93.402-2.07.397-3.346.012-2.054 0-4.109 0-6.179l.004-.056z"></path></svg>counter.js</div></div></div><div id="grid-bottom-left"><div class="codeblock"><pre class="prism-code language-jsx" style="color:#F8F8F2;background-color:#282A36;padding:1rem"><div class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> count </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> counter </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">increment</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token operator">++</span><span class="token plain">count</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">decrement</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token operator">--</span><span class="token plain">count</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token known-class-name class-name">Object</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">freeze</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">counter</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">export</span><span class="token plain"> </span><span class="token exports punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token exports"> counter </span><span class="token exports punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span></div></pre></div></div><div id="grid-top-right"><div class="tab file-preview" id="preview-tab"><a href="https://codesandbox.io/embed/competent-moon-rvzrr" target="_blank" rel="noreferrer">Open CodeSandbox</a></div></div><div id="grid-bottom-right"><div class="code-preview"><iframe src="https://codesandbox.io/embed/competent-moon-rvzrr?expanddevtools=1&amp;hidenavigation=1&amp;theme=darkcodemirror=1&amp;runonclick=1" style="width:100%;border:0;overflow:hidden" loading="lazy" name="Code Preview" allow="geolocation; microphone; camera; midi; vr; accelerometer; gyroscope; payment; ambient-light-sensor; encrypted-media; usb" sandbox="allow-modals allow-forms allow-popups allow-scripts allow-same-origin" title="Code Preview"></iframe></div></div></div></div>
<p>Since objects are passed by reference, both <code class="leading-6">redButton.js</code> and <code class="leading-6">blueButton.js</code> are importing a reference to the same <code class="leading-6">counter</code> object. Modifying the value of <code class="leading-6">count</code> in either of these files will modify the value on the <code class="leading-6">counter</code>, which is visible in both files.</p>
<h3 id="testing" class="text-xl font-bold leading-4 mb-6 mt-8 dark:text-neutral-100">Testing</h3>
<p>Testing code that relies on a Singleton can get tricky. Since we can't create new instances each time, all tests rely on the modification to the global instance of the previous test. The order of the tests matter in this case, and one small modification can lead to an entire test suite failing. After testing, we need to reset the entire instance in order to reset the modifications made by the tests.</p>
<div><div class="grid-cp false" style="grid-template-columns:repeat(2, 50%)" id="showPreview-true"><div id="grid-top-left"><div class="tab file-titles"><div class="file-title active-true"><svg fill="#F7DF1E" role="img" class="tab-logo" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>JavaScript icon</title><path d="M0 0h24v24H0V0zm22.034 18.276c-.175-1.095-.888-2.015-3.003-2.873-.736-.345-1.554-.585-1.797-1.14-.091-.33-.105-.51-.046-.705.15-.646.915-.84 1.515-.66.39.12.75.42.976.9 1.034-.676 1.034-.676 1.755-1.125-.27-.42-.404-.601-.586-.78-.63-.705-1.469-1.065-2.834-1.034l-.705.089c-.676.165-1.32.525-1.71 1.005-1.14 1.291-.811 3.541.569 4.471 1.365 1.02 3.361 1.244 3.616 2.205.24 1.17-.87 1.545-1.966 1.41-.811-.18-1.26-.586-1.755-1.336l-1.83 1.051c.21.48.45.689.81 1.109 1.74 1.756 6.09 1.666 6.871-1.004.029-.09.24-.705.074-1.65l.046.067zm-8.983-7.245h-2.248c0 1.938-.009 3.864-.009 5.805 0 1.232.063 2.363-.138 2.711-.33.689-1.18.601-1.566.48-.396-.196-.597-.466-.83-.855-.063-.105-.11-.196-.127-.196l-1.825 1.125c.305.63.75 1.172 1.324 1.517.855.51 2.004.675 3.207.405.783-.226 1.458-.691 1.811-1.411.51-.93.402-2.07.397-3.346.012-2.054 0-4.109 0-6.179l.004-.056z"></path></svg>test.js</div><div class="file-title active-false"><svg fill="#F7DF1E" role="img" class="tab-logo" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>JavaScript icon</title><path d="M0 0h24v24H0V0zm22.034 18.276c-.175-1.095-.888-2.015-3.003-2.873-.736-.345-1.554-.585-1.797-1.14-.091-.33-.105-.51-.046-.705.15-.646.915-.84 1.515-.66.39.12.75.42.976.9 1.034-.676 1.034-.676 1.755-1.125-.27-.42-.404-.601-.586-.78-.63-.705-1.469-1.065-2.834-1.034l-.705.089c-.676.165-1.32.525-1.71 1.005-1.14 1.291-.811 3.541.569 4.471 1.365 1.02 3.361 1.244 3.616 2.205.24 1.17-.87 1.545-1.966 1.41-.811-.18-1.26-.586-1.755-1.336l-1.83 1.051c.21.48.45.689.81 1.109 1.74 1.756 6.09 1.666 6.871-1.004.029-.09.24-.705.074-1.65l.046.067zm-8.983-7.245h-2.248c0 1.938-.009 3.864-.009 5.805 0 1.232.063 2.363-.138 2.711-.33.689-1.18.601-1.566.48-.396-.196-.597-.466-.83-.855-.063-.105-.11-.196-.127-.196l-1.825 1.125c.305.63.75 1.172 1.324 1.517.855.51 2.004.675 3.207.405.783-.226 1.458-.691 1.811-1.411.51-.93.402-2.07.397-3.346.012-2.054 0-4.109 0-6.179l.004-.056z"></path></svg>superCounter.js</div></div></div><div id="grid-bottom-left"><div class="codeblock"><pre class="prism-code language-jsx" style="color:#F8F8F2;background-color:#282A36;padding:1rem"><div class="token-line" style="color:#F8F8F2"><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">Counter</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"../src/counterTest"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">test</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"incrementing 1 time should be 1"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token maybe-class-name">Counter</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">increment</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">expect</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token maybe-class-name">Counter</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">getCount</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">toBe</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">test</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"incrementing 3 extra times should be 4"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token maybe-class-name">Counter</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">increment</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token maybe-class-name">Counter</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">increment</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token maybe-class-name">Counter</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">increment</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">expect</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token maybe-class-name">Counter</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">getCount</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">toBe</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">4</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">test</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"decrementing 1  times should be 3"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token maybe-class-name">Counter</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">decrement</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">expect</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token maybe-class-name">Counter</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">getCount</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">toBe</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span></div></pre></div></div><div id="grid-top-right"><div class="tab file-preview" id="preview-tab"><a href="https://codesandbox.io/embed/sweet-cache-n55vi" target="_blank" rel="noreferrer">Open CodeSandbox</a></div></div><div id="grid-bottom-right"><div class="code-preview"><iframe src="https://codesandbox.io/embed/sweet-cache-n55vi?expanddevtools=0&amp;previewwindow=tests&amp;hidenavigation=1&amp;theme=darkcodemirror=1&amp;runonclick=1" style="width:100%;border:0;overflow:hidden" loading="lazy" name="Code Preview" allow="geolocation; microphone; camera; midi; vr; accelerometer; gyroscope; payment; ambient-light-sensor; encrypted-media; usb" sandbox="allow-modals allow-forms allow-popups allow-scripts allow-same-origin" title="Code Preview"></iframe></div></div></div></div>
<h4 id="dependency-hiding" class="font-bold leading-4 mb-6 mt-8 dark:text-neutral-100">Dependency hiding</h4>
<p>When importing another module, <code class="leading-6">superCounter.js</code> in this case, it may not be obvious that module is importing a Singleton. In other files, such as <code class="leading-6">index.js</code> in this case, we may be importing that module and invoke its methods. This way, we accidentally modify the values in the Singleton. This can lead to unexpected behavior, since multiple instances of the Singleton can be shared throughout the application, which would all get modified as well.</p>
<div><div class="grid-cp false" style="grid-template-columns:repeat(2, 50%)" id="showPreview-true"><div id="grid-top-left"><div class="tab file-titles"><div class="file-title active-false"><svg fill="#F7DF1E" role="img" class="tab-logo" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>JavaScript icon</title><path d="M0 0h24v24H0V0zm22.034 18.276c-.175-1.095-.888-2.015-3.003-2.873-.736-.345-1.554-.585-1.797-1.14-.091-.33-.105-.51-.046-.705.15-.646.915-.84 1.515-.66.39.12.75.42.976.9 1.034-.676 1.034-.676 1.755-1.125-.27-.42-.404-.601-.586-.78-.63-.705-1.469-1.065-2.834-1.034l-.705.089c-.676.165-1.32.525-1.71 1.005-1.14 1.291-.811 3.541.569 4.471 1.365 1.02 3.361 1.244 3.616 2.205.24 1.17-.87 1.545-1.966 1.41-.811-.18-1.26-.586-1.755-1.336l-1.83 1.051c.21.48.45.689.81 1.109 1.74 1.756 6.09 1.666 6.871-1.004.029-.09.24-.705.074-1.65l.046.067zm-8.983-7.245h-2.248c0 1.938-.009 3.864-.009 5.805 0 1.232.063 2.363-.138 2.711-.33.689-1.18.601-1.566.48-.396-.196-.597-.466-.83-.855-.063-.105-.11-.196-.127-.196l-1.825 1.125c.305.63.75 1.172 1.324 1.517.855.51 2.004.675 3.207.405.783-.226 1.458-.691 1.811-1.411.51-.93.402-2.07.397-3.346.012-2.054 0-4.109 0-6.179l.004-.056z"></path></svg>test.js</div><div class="file-title active-true"><svg fill="#F7DF1E" role="img" class="tab-logo" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>JavaScript icon</title><path d="M0 0h24v24H0V0zm22.034 18.276c-.175-1.095-.888-2.015-3.003-2.873-.736-.345-1.554-.585-1.797-1.14-.091-.33-.105-.51-.046-.705.15-.646.915-.84 1.515-.66.39.12.75.42.976.9 1.034-.676 1.034-.676 1.755-1.125-.27-.42-.404-.601-.586-.78-.63-.705-1.469-1.065-2.834-1.034l-.705.089c-.676.165-1.32.525-1.71 1.005-1.14 1.291-.811 3.541.569 4.471 1.365 1.02 3.361 1.244 3.616 2.205.24 1.17-.87 1.545-1.966 1.41-.811-.18-1.26-.586-1.755-1.336l-1.83 1.051c.21.48.45.689.81 1.109 1.74 1.756 6.09 1.666 6.871-1.004.029-.09.24-.705.074-1.65l.046.067zm-8.983-7.245h-2.248c0 1.938-.009 3.864-.009 5.805 0 1.232.063 2.363-.138 2.711-.33.689-1.18.601-1.566.48-.396-.196-.597-.466-.83-.855-.063-.105-.11-.196-.127-.196l-1.825 1.125c.305.63.75 1.172 1.324 1.517.855.51 2.004.675 3.207.405.783-.226 1.458-.691 1.811-1.411.51-.93.402-2.07.397-3.346.012-2.054 0-4.109 0-6.179l.004-.056z"></path></svg>superCounter.js</div></div></div><div id="grid-bottom-left"><div class="codeblock"><pre class="prism-code language-jsx" style="color:#F8F8F2;background-color:#282A36;padding:1rem"><div class="token-line" style="color:#F8F8F2"><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">Counter</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"./counter"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">export</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">default</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">SuperCounter</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">constructor</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">count</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">increment</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token maybe-class-name">Counter</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">increment</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">count</span><span class="token plain"> </span><span class="token operator">+=</span><span class="token plain"> </span><span class="token number">100</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">decrement</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token maybe-class-name">Counter</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">decrement</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">count</span><span class="token plain"> </span><span class="token operator">-=</span><span class="token plain"> </span><span class="token number">100</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span></div></pre></div></div><div id="grid-top-right"><div class="tab file-preview" id="preview-tab"><a href="https://codesandbox.io/embed/sweet-cache-n55vi" target="_blank" rel="noreferrer">Open CodeSandbox</a></div></div><div id="grid-bottom-right"><div class="code-preview"><iframe src="https://codesandbox.io/embed/sweet-cache-n55vi?expanddevtools=1&amp;hidenavigation=1&amp;theme=darkcodemirror=1&amp;runonclick=1" style="width:100%;border:0;overflow:hidden" loading="lazy" name="Code Preview" allow="geolocation; microphone; camera; midi; vr; accelerometer; gyroscope; payment; ambient-light-sensor; encrypted-media; usb" sandbox="allow-modals allow-forms allow-popups allow-scripts allow-same-origin" title="Code Preview"></iframe></div></div></div></div>
<h3 id="global-behavior" class="text-xl font-bold leading-4 mb-6 mt-8 dark:text-neutral-100">Global behavior</h3>
<p>A Singleton instance should be able to get referenced throughout the entire app. Global variables essentially show the same behavior: since global variables are available on the global scope, we can access those variables throughout the application.</p>
<p>Having global variables is generally considered as a bad design decision. Global scope pollution can end up in accidentally overwriting the value of a global variable, which can lead to a lot of unexpected behavior.</p>
<p>In ES2015, creating global variables is fairly uncommon. The new <code class="leading-6">let</code> and <code class="leading-6">const</code> keyword prevent developers from accidentally polluting the global scope, by keeping variables declared with these two keywords block-scoped. The new <code class="leading-6">module</code> system in JavaScript makes creating globally accessible values easier without polluting the global scope, by being able to <code class="leading-6">export</code> values from a module, and <code class="leading-6">import</code> those values in other files.</p>
<p>However, the common usecase for a Singleton is to have some sort of <strong class="dark:text-white">global state</strong> throughout your application. Having multiple parts of your codebase rely on the same <!-- -->mutable object<!-- --> can lead to unexpected behavior.</p>
<p>Usually, certain parts of the codebase modify the values within global state, whereas others consume that data. The order of execution here is important: we don't want to accidentally consume data first, when there is no data to consume (yet)! Understanding the data flow when using a global state can get very tricky as your application grows, and dozens of components rely on each other.</p>
<h3 id="state-management-in-react" class="text-xl font-bold leading-4 mb-6 mt-8 dark:text-neutral-100">State management in React</h3>
<p>In React, we often rely on a global state through state management tools such as <strong class="dark:text-white">Redux</strong> or <strong class="dark:text-white">React Context</strong> instead of using Singletons. Although their global state behavior might seem similar to that of a Singleton, these tools provide a <strong class="dark:text-white">read-only state</strong> rather than the <em>mutable</em> state of the Singleton. When using Redux, only pure function <em>reducers</em> can update the state, after a component has sent an <em>action</em> through a <em>dispatcher</em>.</p>
<p>Although the downsides to having a global state don't magically disappear by using these tools, we can at least make sure that the global state is mutated the way we intend it, since components cannot update the state directly.</p>
<hr class="border mb-12 mt-12 border-neutral-150 dark:border-neutral-700/80">
<h2 id="references" class="font-bold leading-5 mb-6 mt-10 text-2xl dark:text-neutral-100">References</h2>
<ul class="mb-5 mt-5 pl-7 list-disc marker:text-neutral-300 text-base">
<li class="mb-3 mt-3 pl-1.5 dark:text-neutral-100"><a class="mdx-a font-semibold text-underline" href="https://medium.com/javascript-scene/do-react-hooks-replace-redux-210bab340672">Do React Hooks replace Redux</a> - Eric Elliott</li>
<li class="mb-3 mt-3 pl-1.5 dark:text-neutral-100"><a class="mdx-a font-semibold text-underline" href="https://www.sitepoint.com/javascript-design-patterns-singleton/">JavaScript Design Patterns: The Singleton</a> - Samier Saeed</li>
<li class="mb-3 mt-3 pl-1.5 dark:text-neutral-100"><a class="mdx-a font-semibold text-underline" href="https://refactoring.guru/design-patterns/singleton">Singleton</a> - Refactoring Guru</li>
</ul></div><div class="mx-auto max-w-xs flex sm:justify-center sm:max-w-none"><a class="btn text-white bg-neutral-900 hover:bg-neutral-800 w-full mb-4 w-auto mb-0 mr-8 dark:bg-neutral-700 hover:bg-neutral-600" title="introduction" href="/posts/introduction">Previous</a><div style="width:64px"></div><a class="btn text-white bg-neutral-900 hover:bg-neutral-800 w-full mb-4 w-auto mb-0 mr-8 dark:bg-neutral-700 hover:bg-neutral-600" title="proxy-pattern" href="/posts/proxy-pattern">Next</a></div></div></div></article></div></div></div></section><footer class="bg-white dark:bg-neutral-900"><div class="max-w-6xl mx-auto px-4 sm:px-6"><div class="grid sm:grid-cols-12 gap-8 py-8 md:py-12 border-t border-neutral-200 dark:border-neutral-700"><div class="sm:col-span-12 lg:col-span-3"><div class="mb-2"><a class="inline-block" aria-label="Cruip" href="/"><svg xmlns="http://www.w3.org/2000/svg" width="122" height="28" viewBox="0 0 122 28" class="fill-black dark:fill-white"><g stroke="none"><g transform="translate(-215 -16)"><path d="M221.372 43.136v-8.82h.085a4.67 4.67 0 00.975 1.485c.423.437.934.782 1.534 1.034s1.284.378 2.051.378a5.94 5.94 0 003.212-.916c.977-.61 1.758-1.538 2.344-2.78.586-1.244.879-2.81.879-4.699 0-1.974-.307-3.58-.922-4.815-.614-1.236-1.41-2.141-2.386-2.717-.977-.575-2.005-.863-3.084-.863-.81 0-1.52.14-2.131.421-.61.28-1.122.654-1.534 1.119a5.004 5.004 0 00-.938 1.528h-.127v-2.855h-5.839v22.5h5.881zm2.472-10.44c-.54 0-1.003-.158-1.39-.474-.388-.316-.686-.764-.895-1.342-.21-.58-.315-1.266-.315-2.062 0-.81.105-1.504.315-2.083.21-.578.507-1.022.894-1.331.388-.31.851-.464 1.39-.464.54 0 1 .155 1.38.464.38.309.672.753.874 1.331.202.58.304 1.274.304 2.083 0 .81-.102 1.504-.304 2.083-.202.579-.494 1.023-.874 1.332-.38.309-.84.463-1.38.463zm14.78 4.56A7.06 7.06 0 00240.58 37a4.449 4.449 0 001.588-.82c.465-.377.861-.87 1.188-1.481h.128V37h5.497V25.793c0-.76-.173-1.465-.517-2.115-.344-.65-.843-1.218-1.497-1.705-.653-.486-1.445-.866-2.376-1.14-.93-.273-1.981-.41-3.153-.41-1.626 0-2.983.254-4.07.762-1.086.508-1.912 1.183-2.476 2.024a5.579 5.579 0 00-.954 2.754h5.412c.071-.504.282-.879.634-1.124.351-.245.808-.367 1.369-.367.511 0 .93.113 1.257.34.327.228.49.554.49.98v.043a.895.895 0 01-.373.751c-.248.189-.651.334-1.209.437-.558.103-1.294.19-2.21.261-.846.064-1.632.203-2.36.416a6.027 6.027 0 00-1.913.926 4.135 4.135 0 00-1.278 1.561c-.305.636-.458 1.401-.458 2.296 0 1.087.227 1.981.682 2.685a4.127 4.127 0 001.88 1.571c.799.344 1.72.517 2.765.517zm1.918-3.708c-.497 0-.905-.12-1.225-.362-.32-.241-.48-.59-.48-1.044 0-.284.07-.542.208-.772a1.66 1.66 0 01.64-.586c.287-.16.658-.275 1.113-.346.234-.036.46-.075.676-.118.217-.042.423-.088.618-.138.196-.05.38-.103.554-.16.174-.057.34-.117.496-.181v1.364c0 .497-.125.92-.373 1.267-.249.348-.57.615-.964.8a2.94 2.94 0 01-1.263.276zm14.195 3.266c.916.351 2.05.491 3.399.42.667-.035 1.244-.11 1.73-.223.487-.114.862-.21 1.125-.288l-.853-4.134c-.113.029-.289.064-.527.107a3.596 3.596 0 01-.623.064 1.52 1.52 0 01-.629-.112.737.737 0 01-.362-.34 1.244 1.244 0 01-.117-.57l-.001-6.84h2.813v-4.262l-2.813.001v-3.921H252v3.921h-2.088v4.26l2.088.001v7.393c-.013 1.04.171 1.92.551 2.643l.12.212c.462.76 1.15 1.316 2.067 1.668zm11.287 0c.916.351 2.049.491 3.398.42.668-.035 1.245-.11 1.731-.223.487-.114.861-.21 1.124-.288l-.852-4.134c-.114.029-.29.064-.527.107a3.596 3.596 0 01-.624.064 1.52 1.52 0 01-.628-.112.737.737 0 01-.362-.34 1.244 1.244 0 01-.118-.57v-6.84h2.813v-4.262l-2.813.001v-3.921h-5.88l-.001 3.921h-2.087v4.26l2.087.001v7.393c-.012 1.04.172 1.92.552 2.643l.12.212c.462.76 1.15 1.316 2.067 1.668zm15.153.484c1.513 0 2.836-.229 3.969-.687 1.133-.458 2.043-1.104 2.732-1.939.69-.834 1.126-1.82 1.31-2.956h-5.369a1.95 1.95 0 01-.532.783c-.242.217-.531.382-.869.495a3.47 3.47 0 01-1.113.17c-.582 0-1.08-.116-1.491-.35a2.395 2.395 0 01-.948-.97c-.22-.412-.33-.88-.33-1.407l-.001-.255h10.654v-1.364c0-1.3-.192-2.468-.576-3.505-.383-1.037-.93-1.92-1.64-2.647a7.064 7.064 0 00-2.568-1.667c-1.001-.384-2.12-.576-3.356-.576-1.69 0-3.156.352-4.4 1.055a7.309 7.309 0 00-2.886 2.951c-.682 1.264-1.023 2.741-1.023 4.432 0 1.761.339 3.272 1.017 4.533a6.936 6.936 0 002.909 2.898c1.26.67 2.764 1.006 4.511 1.006zm-2.642-10.355c.014-.476.14-.891.378-1.246s.556-.634.954-.837a2.847 2.847 0 011.31-.303c.49 0 .929.101 1.316.303.387.203.696.483.927.842.23.359.35.772.357 1.241h-5.242zM296.597 37v-8.523c0-.625.132-1.17.395-1.635a2.814 2.814 0 011.08-1.087c.459-.259.976-.389 1.55-.389.306 0 .672.025 1.098.075.426.05.785.124 1.076.224v-5.018a5.324 5.324 0 00-.73-.165 4.968 4.968 0 00-.761-.059c-.874 0-1.636.267-2.285.8-.65.532-1.124 1.374-1.423 2.524h-.17v-3.11h-5.71V37h5.88zm12.14 0v-9.205c.006-.54.106-1.003.297-1.39.192-.387.467-.685.826-.895.359-.21.78-.314 1.263-.314.738 0 1.315.23 1.73.692.416.462.62 1.098.613 1.907V37h5.881V26.56c.007-1.186-.226-2.241-.698-3.164a5.394 5.394 0 00-1.992-2.179c-.856-.53-1.863-.794-3.02-.794-1.2 0-2.25.295-3.148.885a4.627 4.627 0 00-1.88 2.44h-.171v-3.112h-5.583V37h5.881zm20.15.298c1.512 0 2.86-.232 4.042-.698 1.183-.465 2.117-1.125 2.802-1.981.686-.856 1.032-1.866 1.039-3.03-.007-1.208-.421-2.172-1.241-2.893-.82-.721-2.069-1.234-3.745-1.54l-3.324-.596c-.625-.114-1.046-.274-1.262-.48-.217-.206-.322-.43-.315-.67-.007-.342.17-.605.533-.79.362-.184.796-.276 1.3-.276.39 0 .747.065 1.07.197.324.131.588.318.794.56.206.24.323.528.352.862h5.412c-.071-1.733-.79-3.09-2.158-4.07-1.367-.98-3.233-1.47-5.598-1.47-1.555 0-2.9.208-4.032.624-1.133.415-2.003 1.019-2.61 1.81-.608.793-.908 1.757-.9 2.893-.008 1.286.404 2.337 1.235 3.153.831.817 2.081 1.371 3.75 1.662l2.898.512c.64.113 1.11.262 1.412.447.301.185.456.433.463.746-.007.34-.187.604-.538.788-.352.185-.797.277-1.337.277-.668 0-1.22-.14-1.657-.42a1.655 1.655 0 01-.772-1.2h-5.838c.163 1.677.95 3.026 2.36 4.05 1.41 1.022 3.364 1.533 5.864 1.533z"></path></g></g></svg></a></div></div><div class="sm:col-span-6 md:col-span-3 lg:col-span-2"><p class="text-neutral-800 font-medium mb-2 dark:text-neutral-100">Resources</p><ul class="text-sm"><li class="mb-2"><a class="text-neutral-600 hover:text-neutral-900 dark:text-neutral-300 dark:hover:text-neutral-400 transition duration-150 ease-in-out" href="/posts">Patterns</a></li><li class="mb-2"><a target="_blank" class="text-neutral-600 hover:text-neutral-900 dark:text-neutral-300 dark:hover:text-neutral-400 transition duration-150 ease-in-out" href="https://forms.gle/nBaTUseGL38J7jR89">Submit Feedback</a></li></ul></div><div class="sm:col-span-6 md:col-span-3 lg:col-span-2"><p class="text-neutral-800 font-medium mb-2 dark:text-neutral-100">Team</p><ul class="text-sm"><li class="mb-2"><a class="text-neutral-600 hover:text-neutral-900 dark:text-neutral-300 dark:hover:text-neutral-400 transition duration-150 ease-in-out" href="/">Home</a></li><li class="mb-2"><a class="text-neutral-600 hover:text-neutral-900 dark:text-neutral-300 dark:hover:text-neutral-400 transition duration-150 ease-in-out" href="/about">About us</a></li></ul></div></div><div class="md:flex md:items-center md:justify-between py-4 md:py-8 border-t border-neutral-200 dark:border-neutral-700"><div class="text-sm text-neutral-600 mr-4 dark:text-neutral-400">© 2020-2023 Patterns.dev. All rights reserved.</div></div></div></footer><div style="position:fixed;right:20px;bottom:20px;opacity:0.9;width:30px;height:30px;cursor:pointer"><svg xmlns="http://www.w3.org/2000/svg" x="0" y="0" viewBox="0 0 1000 1000" class="fill-black dark:fill-white"><path d="M4884.1 4997.4c-68.9-18.2-188.6-127.7-813.1-754.3-707.7-707.7-734-736.1-758.4-835.4-73-316.3 223-553.6 517.1-415.7 48.7 24.3 217 174.4 425.8 385.3 188.6 190.6 350.8 346.7 358.9 346.7 8.1 0 18.2-1082.8 20.3-2406.9l6.1-2408.9 46.6-81.1c71-123.7 168.3-180.4 306.2-182.5 148 0 261.6 68.9 324.4 196.7l42.6 89.2v4817.8l381.2-385.3c358.9-365 385.3-387.3 482.6-409.6 186.6-42.6 358.9 40.5 436 212.9 42.6 93.3 46.7 150.1 16.2 263.6-18.3 69-135.9 194.7-723.9 786.7-387.3 387.3-730 721.9-764.4 744.2-79.1 46.7-202.8 62.9-304.2 36.6z" transform="matrix(.1 0 0 -.1 0 511)"></path><path d="M1791.9 2519.5c-219-60.8-375.1-186.6-464.3-377.2l-52.7-111.5v-6245.4l46.6-115.6c58.8-146 221-326.5 356.9-397.4l103.4-54.8 3177.4-6.1c3167.3-4.1 3177.4-4.1 3288.9 36.5 129.8 48.7 292 186.5 362.9 310.2 123.7 208.8 117.6 16.2 111.5 3400.4l-6.1 3092.2-48.7 91.3c-75 141.9-123.7 198.7-233.2 273.7-182.5 123.7-267.6 133.8-1050.3 127.7l-695.5-6.1-95.3-54.8c-156.1-93.3-217-271.7-148-436 42.6-101.4 85.2-146 182.5-190.6 73-34.5 141.9-38.5 673.2-38.5h592.1l56.8-48.6 56.8-48.7 6.1-2790.1L8017-3862l-48.7-48.7-50.7-50.7H4999.7c-2844.9 0-2919.9 0-2966.5 38.5l-48.7 38.5v5604.6l56.8 48.7 56.8 48.6h1166l111.5 56.8c294 148 257.5 541.4-60.8 648.9-99.5 34.9-1399.2 30.8-1522.9-3.7z" transform="matrix(.1 0 0 -.1 0 511)"></path></svg></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/posts/singleton-pattern","query":{},"buildId":"oGFYGeLJVu5ivbNUA7sPA","nextExport":true,"autoExport":true,"isFallback":false,"scriptLoader":[]}</script><next-route-announcer><p aria-live="assertive" id="__next-route-announcer__" role="alert" style="border: 0px; clip: rect(0px, 0px, 0px, 0px); height: 1px; margin: -1px; overflow: hidden; padding: 0px; position: absolute; width: 1px; white-space: nowrap; overflow-wrap: normal;"></p></next-route-announcer><div id="browsear0bc97005-ad0f-37ae-3d82-e736a109f263" style="inset: 0px; z-index: 10000; touch-action: none; user-select: none; pointer-events: none; position: fixed; display: flex; flex-direction: column; align-items: flex-end;"></div><canvas id="clickCircleCanvas" style="position: fixed; top: 0px; left: 0px; pointer-events: none; width: 100%; height: 100%; z-index: 9999;"></canvas></body></html>